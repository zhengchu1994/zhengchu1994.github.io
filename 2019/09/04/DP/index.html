<!DOCTYPE html>





<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8">
<meta name="generator" content="Hexo 4.2.1">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon-moon_32px.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-moon_32px.png?v=7.3.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-moon_16px.png?v=7.3.0">
  <link rel="mask-icon" href="/images/favicon-moon_32px.png?v=7.3.0" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.3.0">

<link rel="stylesheet" href="//fonts.googleapis.com/css?family=Monda:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic&display=swap&subset=latin,latin-ext">
<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.3.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    save_scroll: false,
    copycode: {"enable":false,"show_result":false,"style":"mac"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    }
  };
</script>

  <meta name="description" content="斐波那契递归: 由斐波那契数列的递归关系推导出n&gt;2时的状态矩阵，然后利用快速矩阵乘法完成；知识点： $n^m$次方，等于计算$n^{2^{(10010101..1101)}}$，用$m$的二进制位完成乘法；  幂计算的过程中，有$m\&amp;1$判断$m$的最右一个bit位是否为1；  123456789101112131415161718192021222324252627282930">
<meta property="og:type" content="article">
<meta property="og:title" content="DP">
<meta property="og:url" content="http://yoursite.com/2019/09/04/DP/index.html">
<meta property="og:site_name" content="Zheng Chu&#39;s Blog">
<meta property="og:description" content="斐波那契递归: 由斐波那契数列的递归关系推导出n&gt;2时的状态矩阵，然后利用快速矩阵乘法完成；知识点： $n^m$次方，等于计算$n^{2^{(10010101..1101)}}$，用$m$的二进制位完成乘法；  幂计算的过程中，有$m\&amp;1$判断$m$的最右一个bit位是否为1；  123456789101112131415161718192021222324252627282930">
<meta property="og:image" content="http://yoursite.com/2019/09/04/DP/JumpGame.png">
<meta property="og:image" content="http://yoursite.com/2019/09/04/DP/%E6%9C%80%E9%95%BF%E8%BF%9E%E7%BB%AD%E5%BA%8F%E5%88%97.png">
<meta property="article:published_time" content="2019-09-04T13:25:49.000Z">
<meta property="article:modified_time" content="2019-09-04T14:28:05.095Z">
<meta property="article:author" content="Zheng Chu">
<meta property="article:tag" content="Algorithm">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2019/09/04/DP/JumpGame.png">
  <link rel="canonical" href="http://yoursite.com/2019/09/04/DP/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>DP | Zheng Chu's Blog</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?<622a1a023f2bb8cdefcf61e3855bf317>";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>






  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  <div class="container sidebar-position-left">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Zheng Chu's Blog</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">让希望永驻</p>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-主页">
      
    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home  //"></i> <br>主页</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-所有专栏">
      
    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th //"></i> <br>所有专栏</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-历史文章">
      
    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive //"></i> <br>历史文章</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-标签">
      
    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags  //"></i> <br>标签</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-关于我">
      
    
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user //"></i> <br>关于我</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    

  <a href="https://github.com/zhengchu1994" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content page-post-detail">
            

  <div id="posts" class="posts-expand">
    

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/09/04/DP/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Zheng Chu">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar/jojo3.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Zheng Chu's Blog">
    </span>
      <header class="post-header">

        
          <h1 class="post-title" itemprop="name headline">DP

            
          </h1>
        

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2019-09-04 21:25:49 / Modified: 22:28:05" itemprop="dateCreated datePublished" datetime="2019-09-04T21:25:49+08:00">2019-09-04</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/%E7%AE%97%E6%B3%95%E4%B8%8E%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84/" itemprop="url" rel="index"><span itemprop="name">算法与数据结构</span></a></span>

                
                
              
            </span>
          

          
            <span class="post-meta-item" title="Views">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">Views: </span>
              <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h4 id="斐波那契递归-由斐波那契数列的递归关系推导出n-gt-2时的状态矩阵，然后利用快速矩阵乘法完成；"><a href="#斐波那契递归-由斐波那契数列的递归关系推导出n-gt-2时的状态矩阵，然后利用快速矩阵乘法完成；" class="headerlink" title="斐波那契递归: 由斐波那契数列的递归关系推导出n&gt;2时的状态矩阵，然后利用快速矩阵乘法完成；"></a>斐波那契递归: 由斐波那契数列的递归关系推导出<code>n&gt;2</code>时的状态矩阵，然后利用快速矩阵乘法完成；</h4><p>知识点：</p><ol>
<li><p>$n^m$次方，等于计算$n^{2^{(10010101..1101)}}$，用$m$的二进制位完成乘法；</p>
</li>
<li><p>幂计算的过程中，有$m\&amp;1$判断$m$的最右一个bit位是否为1；</p>
</li>
</ol><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.</span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> mod=<span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="comment">/*fib数列的1、2项为0，其余项为前两项的和；*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fib1</span><span class="params">(<span class="keyword">int</span> n)</span> <span class="comment">//O(2^N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;=<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> fib1(n) + fib1(n<span class="number">-1</span>);   </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">fib2</span><span class="params">(<span class="keyword">int</span> n)</span> <span class="comment">//O(N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span> || n==<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> res=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> pre=<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> tmp=<span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">3</span>;i&lt;=n;++i)</span><br><span class="line">    &#123;</span><br><span class="line">        tmp = res;</span><br><span class="line">        res = pre + res;</span><br><span class="line">        pre = tmp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; multiply(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; mat1,<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; mat2)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; res(mat1.size(), <span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;(mat2[<span class="number">0</span>].size(), <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;mat1.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;mat2[<span class="number">0</span>].size(); j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>; k &lt; mat1[<span class="number">0</span>].size(); k++)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//res[i][j] += mat1[i][k]*mat2[k][j]; </span></span><br><span class="line">                res[i][j]=(res[i][j]+(mat1[i][k]*mat2[k][j])%mod)%mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; matrixPower(<span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; base, <span class="keyword">long</span> p)<span class="comment">//O(logN)</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">base: A state matrix;</span></span><br><span class="line"><span class="comment">p: the power number.</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; res(base.size(), <span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;(base.size(),<span class="number">0</span>));</span><br><span class="line">    <span class="comment">//Set to a unit matrix</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;res.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        res[i][i] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(;p!=<span class="number">0</span>; p&gt;&gt;=<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>((p&amp;<span class="number">1</span>)!= <span class="number">0</span>) <span class="comment">//every last bit of p </span></span><br><span class="line">            res = multiply(base,res);</span><br><span class="line">        base = multiply(base, base); <span class="comment">//update tmp for next multuply res when last bit of p equal to 1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">fib3</span><span class="params">(<span class="keyword">long</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; base=&#123;&#123;<span class="number">1</span>, <span class="number">1</span>&#125;,&#123;<span class="number">1</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; ans;</span><br><span class="line">    ans = matrixPower(base, n<span class="number">-2</span>);</span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt;(ans[<span class="number">0</span>][<span class="number">0</span>]+ans[<span class="number">0</span>][<span class="number">1</span>])% mod&lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span> || n==<span class="number">2</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    fib3(n);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><a id="more"></a>


<h4 id="同类型的题：青蛙跳台阶，一次能跳1或者2步，求跳到n个台阶可能的跳法。"><a href="#同类型的题：青蛙跳台阶，一次能跳1或者2步，求跳到n个台阶可能的跳法。" class="headerlink" title="同类型的题：青蛙跳台阶，一次能跳1或者2步，求跳到n个台阶可能的跳法。"></a>同类型的题：青蛙跳台阶，一次能跳1或者2步，求跳到n个台阶可能的跳法。</h4><p>1.最后的状态矩阵为$(F(n),F(n-1))=(F(n-1),F(n-2))* \begin{bmatrix}1 &amp; 1\1 &amp; 0\end{bmatrix}=\cdots=(2,1)\times\begin{bmatrix}1 &amp; 1\1 &amp; 0\end{bmatrix}^{n-2}$</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> mod =<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt;  multiply(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; mat1, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; mat2)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; res(mat1.size(),<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;(mat2[<span class="number">0</span>].size(),<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;mat1.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;mat2[<span class="number">0</span>].size(); j++)</span><br><span class="line">        &#123;    <span class="comment">//rm写错k为j</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;mat2.size();k++)</span><br><span class="line">            &#123;</span><br><span class="line">                res[i][j] = (res[i][j]+(mat1[i][k] * mat2[k][j])%mod)%mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">jump</span><span class="params">(<span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; base, <span class="keyword">long</span> n)</span></span></span><br><span class="line"><span class="function">    <span class="comment">/*</span></span></span><br><span class="line"><span class="function"><span class="comment">    base: The state matrix.</span></span></span><br><span class="line"><span class="function"><span class="comment">    n: The power number.</span></span></span><br><span class="line"><span class="function"><span class="comment">    */</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span> || n==<span class="number">2</span>)</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; ans(base.size(),<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;(base[<span class="number">0</span>].size(),<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;ans.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        ans[i][i] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    n = n<span class="number">-2</span>;</span><br><span class="line">    <span class="keyword">for</span>(;n!=<span class="number">0</span>;n&gt;&gt;=<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>((n&amp;<span class="number">1</span>)!=<span class="number">0</span>)</span><br><span class="line">            ans = multiply(base, ans);</span><br><span class="line">        base = multiply(base, base);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="number">2</span> *ans[<span class="number">0</span>][<span class="number">0</span>] + ans[<span class="number">1</span>][<span class="number">0</span>]) % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; base=&#123;&#123;<span class="number">1</span>,<span class="number">1</span>&#125;, &#123;<span class="number">1</span>,<span class="number">0</span>&#125;&#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; jump(base, n) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="假设农场中成熟的母牛每年只会生-1-头小母牛，并且永远不会死。第一年农场中有一只成熟的母牛，从第二年开始，母牛开始生小母牛。每只小母牛-3-年之后成熟又可以生小母牛。给定整数-n，求出-n-年后牛的数量。"><a href="#假设农场中成熟的母牛每年只会生-1-头小母牛，并且永远不会死。第一年农场中有一只成熟的母牛，从第二年开始，母牛开始生小母牛。每只小母牛-3-年之后成熟又可以生小母牛。给定整数-n，求出-n-年后牛的数量。" class="headerlink" title="假设农场中成熟的母牛每年只会生 1 头小母牛，并且永远不会死。第一年农场中有一只成熟的母牛，从第二年开始，母牛开始生小母牛。每只小母牛 3 年之后成熟又可以生小母牛。给定整数 n，求出 n 年后牛的数量。"></a>假设农场中成熟的母牛每年只会生 1 头小母牛，并且永远不会死。第一年农场中有一只成熟的母牛，从第二年开始，母牛开始生小母牛。每只小母牛 3 年之后成熟又可以生小母牛。给定整数 n，求出 n 年后牛的数量。</h4><ul>
<li>类似一样是求解状态矩阵：设<script type="math/tex; mode=display">
(F(n),F(n-1),F(n-2))=(F(n-1),F(n-2),(F-3))*\begin{bmatrix}1 & 1&0\\0 & 0 & 1\\1 & 0 & 0\end{bmatrix}=  \\\\ 
\cdots=(3,2,1)\times\begin{bmatrix}1 & 1&0\\0 & 0 & 1\\1 & 0 & 0\end{bmatrix}^{n-3}</script></li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> mod =<span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt;  multiply(<span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; mat1, <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; mat2)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; res(mat1.size(),<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;(mat2[<span class="number">0</span>].size(),<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;mat1.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;mat2[<span class="number">0</span>].size(); j++)</span><br><span class="line">        &#123;    <span class="comment">//rm写错k为j</span></span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>; k&lt;mat2.size();k++)</span><br><span class="line">            &#123;</span><br><span class="line">                res[i][j] = (res[i][j]+(mat1[i][k] * mat2[k][j])%mod)%mod;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="title">born</span><span class="params">(<span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; base, <span class="keyword">long</span> n)</span></span></span><br><span class="line"><span class="function">    <span class="comment">/*</span></span></span><br><span class="line"><span class="function"><span class="comment">    base: The state matrix.</span></span></span><br><span class="line"><span class="function"><span class="comment">    n: The power number.</span></span></span><br><span class="line"><span class="function"><span class="comment">    */</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;<span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(n==<span class="number">1</span> || n==<span class="number">2</span> || n==<span class="number">3</span>)</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; ans(base.size(),<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;(base[<span class="number">0</span>].size(),<span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;ans.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        ans[i][i] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    n = n<span class="number">-3</span>;</span><br><span class="line">    <span class="keyword">for</span>(;n!=<span class="number">0</span>;n&gt;&gt;=<span class="number">1</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>((n&amp;<span class="number">1</span>)!=<span class="number">0</span>)</span><br><span class="line">            ans = multiply(base, ans);</span><br><span class="line">        base = multiply(base, base);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (<span class="number">3</span> *ans[<span class="number">0</span>][<span class="number">0</span>] + <span class="number">2</span>*ans[<span class="number">1</span>][<span class="number">0</span>] + ans[<span class="number">2</span>][<span class="number">0</span>]) % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">long</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt;&gt; base=&#123;&#123;<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>&#125;,&#123;<span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>&#125;&#125;;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; born(base, n) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="题目描述：给定一个-n-m-的矩阵-a，从左上角开始每次只能向右或者向下走，最后到达右下角的位置，路径上所有的数字累加起来就是路径和，输出所有的路径中最小的路径和。"><a href="#题目描述：给定一个-n-m-的矩阵-a，从左上角开始每次只能向右或者向下走，最后到达右下角的位置，路径上所有的数字累加起来就是路径和，输出所有的路径中最小的路径和。" class="headerlink" title="题目描述：给定一个 n * m 的矩阵 a，从左上角开始每次只能向右或者向下走，最后到达右下角的位置，路径上所有的数字累加起来就是路径和，输出所有的路径中最小的路径和。"></a>题目描述：给定一个 n * m 的矩阵 a，从左上角开始每次只能向右或者向下走，最后到达右下角的位置，路径上所有的数字累加起来就是路径和，输出所有的路径中最小的路径和。</h4><ul>
<li><p>解析：动态规划：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minPathSum1</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;mat)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(mat.empty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> row = mat.size(), col = mat[<span class="number">0</span>].size();</span><br><span class="line">    <span class="keyword">if</span>(row ==<span class="number">0</span> || col==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; table(row, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(col, <span class="number">0</span>));</span><br><span class="line">    table[<span class="number">0</span>][<span class="number">0</span>] = mat[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;col;++i)</span><br><span class="line">        table[<span class="number">0</span>][i] = mat[<span class="number">0</span>][i] + table[<span class="number">0</span>][i<span class="number">-1</span>]; <span class="comment">//tag:easy error</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;row; ++j)</span><br><span class="line">        table[j][<span class="number">0</span>] = mat[j][<span class="number">0</span>] + table[j<span class="number">-1</span>][<span class="number">0</span>]; <span class="comment">//tag:easy error</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;row; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;col; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            table[i][j] = min(table[i<span class="number">-1</span>][j],table[i][j<span class="number">-1</span>]) + mat[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> table[row<span class="number">-1</span>][col<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m, n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; m &gt;&gt; n;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; vec(m,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;vec[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res = minPathSum1(vec);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>  方法2：空间复杂度降低为$O(\min(M,N))$,滚动的更新一个数组来保存结果，比如列少行多，那初始化第一行，每次滚动到下一行做更新；$arr[0]=arr[0] + \text{下一行第0列的值}$，然后对于每一列$j \rightarrow N$有$arr[j]=\min (arr[j-1],arr[j])+mat[i][j]$,也就是左边与右边的最小dp值加上当前的数组值：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minPathSum2</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;mat)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(mat.empty() ||mat.size()==<span class="number">0</span> || mat[<span class="number">0</span>].size()==<span class="number">0</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//确定行和列谁更长；</span></span><br><span class="line">    <span class="keyword">int</span> row = mat.size();</span><br><span class="line">    <span class="keyword">int</span> col = mat[<span class="number">0</span>].size();</span><br><span class="line">    <span class="keyword">bool</span> rowMore=<span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">int</span> more, less;</span><br><span class="line">    <span class="keyword">if</span>(row&gt;col)</span><br><span class="line">    &#123;</span><br><span class="line">        rowMore=<span class="literal">true</span>;</span><br><span class="line">        more=row,less=col;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        more=col,less=row;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; table(less, <span class="number">0</span>);</span><br><span class="line">    table[<span class="number">0</span>] = mat[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">    <span class="comment">//确定第一行或列的初始dp值</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;less; ++i)</span><br><span class="line">        <span class="keyword">if</span>(rowMore)</span><br><span class="line">            table[i] = table[i<span class="number">-1</span>] + mat[<span class="number">0</span>][i]; <span class="comment">//行多，那么初始第一行 easy error:set mat[0][i] as mat[0][i-1] </span></span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            table[i] = table[i<span class="number">-1</span>] + mat[i][<span class="number">0</span>]; <span class="comment">//行少，初始第一列</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;more; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//假设行多列少，初始为第一行，向下一行滚动更新数组，那么有比如arr[0] = arr[0] + mat[1][0];</span></span><br><span class="line">        <span class="comment">//简而言之，朝着更新方向加一个对应数字</span></span><br><span class="line">        table[<span class="number">0</span>] = table[<span class="number">0</span>] + (rowMore ? mat[i][<span class="number">0</span>] : mat[<span class="number">0</span>][i]);</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;less; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//两个方向的dp值取最小</span></span><br><span class="line">            table[j] = min(table[j<span class="number">-1</span>],table[j]) + (rowMore ? mat[i][j] : mat[j][i]); </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> table[less<span class="number">-1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> m, n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; m &gt;&gt; n;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; vec(m,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;m; ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;n; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">cin</span>&gt;&gt;vec[i][j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> res = minPathSum2(vec);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="题目描述：假设有排成一行的N个位置，记为1-N，开始时机器人在M位置，机器人可以往左或者往右走，如果机器人在1位置，那么下一步机器人只能走到2位置，如果机器人在N位置，那么下一步机器人只能走到N-1位置。规定机器人只能走k步，最终能来到P位置的方法有多少种。由于方案数可能比较大，所以答案需要对1e9-7取模。"><a href="#题目描述：假设有排成一行的N个位置，记为1-N，开始时机器人在M位置，机器人可以往左或者往右走，如果机器人在1位置，那么下一步机器人只能走到2位置，如果机器人在N位置，那么下一步机器人只能走到N-1位置。规定机器人只能走k步，最终能来到P位置的方法有多少种。由于方案数可能比较大，所以答案需要对1e9-7取模。" class="headerlink" title="题目描述：假设有排成一行的N个位置，记为1~N，开始时机器人在M位置，机器人可以往左或者往右走，如果机器人在1位置，那么下一步机器人只能走到2位置，如果机器人在N位置，那么下一步机器人只能走到N-1位置。规定机器人只能走k步，最终能来到P位置的方法有多少种。由于方案数可能比较大，所以答案需要对1e9+7取模。"></a>题目描述：假设有排成一行的N个位置，记为1~N，开始时机器人在M位置，机器人可以往左或者往右走，如果机器人在1位置，那么下一步机器人只能走到2位置，如果机器人在N位置，那么下一步机器人只能走到N-1位置。规定机器人只能走k步，最终能来到P位置的方法有多少种。由于方案数可能比较大，所以答案需要对1e9+7取模。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输出包括一行四个正整数N（2&lt;&#x3D;N&lt;&#x3D;5000）、M(1&lt;&#x3D;M&lt;&#x3D;N)、K(1&lt;&#x3D;K&lt;&#x3D;5000)、P(1&lt;&#x3D;P&lt;&#x3D;N)。</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">输出一个整数，代表最终走到P的方法数对10^9+7109+7取模后的值。</span><br></pre></td></tr></table></figure>
<p>暴力递归-&gt;动态规划-&gt;空间压缩<br>解析：当前处于cur位置，还剩rest步要走；1&lt;=cur&lt;=N</p>
<ol>
<li>cur==1,那么下一步只能往右走，也就是走到2，还剩rest-1步；</li>
<li>cur==N,那么下一步只能往左走，也就是走到N-1，还剩rest-1步；</li>
<li>cur在中间位置，可以往左(cur-1)或者右走(cur+1),还剩rest-1步，</li>
<li>终止条件：rest==0,若定在p处，返回1表示能走到，返回0表示未走到；</li>
</ol>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> mod = <span class="number">1e9</span>+<span class="number">7</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">暴力递归-&gt;动态规划-&gt;空间压缩</span></span><br><span class="line"><span class="comment">解析：当前处于cur位置，还剩rest步要走；1&lt;=cur&lt;=N</span></span><br><span class="line"><span class="comment">1. cur==1,那么下一步只能往右走，也就是走到2，还剩rest-1步；</span></span><br><span class="line"><span class="comment">2. cur==N,那么下一步只能往左走，也就是走到N-1，还剩rest-1步；</span></span><br><span class="line"><span class="comment">3. cur在中间位置，可以往左(cur-1)或者右走(cur+1),还剩rest-1步，</span></span><br><span class="line"><span class="comment">4.终止条件：rest==0,若定在p处，返回1表示能走到，返回0表示未走到；</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">walk1</span><span class="params">(<span class="keyword">int</span> N, <span class="keyword">int</span> cur, <span class="keyword">int</span> rest, <span class="keyword">int</span> P)</span></span></span><br><span class="line"><span class="function"><span class="comment">// N:一共N个位置</span></span></span><br><span class="line"><span class="function"><span class="comment">// cur:当前所处位置</span></span></span><br><span class="line"><span class="function"><span class="comment">// rest:还剩多少步</span></span></span><br><span class="line"><span class="function"><span class="comment">// p:目标地点</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(rest == <span class="number">0</span>) <span class="keyword">return</span> cur==P ? <span class="number">1</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span>(cur == <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> walk1(N, <span class="number">2</span>, rest<span class="number">-1</span>, P);</span><br><span class="line">    <span class="keyword">if</span>(cur == N)</span><br><span class="line">        <span class="keyword">return</span> walk1(N, N<span class="number">-1</span>, rest<span class="number">-1</span>, P);</span><br><span class="line">    <span class="keyword">return</span> walk1(N, cur<span class="number">-1</span>, rest<span class="number">-1</span>, P) + walk1(N, cur+<span class="number">1</span>, rest<span class="number">-1</span>, P);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">walk2</span><span class="params">(<span class="keyword">int</span> N, <span class="keyword">int</span> cur, <span class="keyword">int</span> rest, <span class="keyword">int</span> P)</span></span></span><br><span class="line"><span class="function"><span class="comment">/*</span></span></span><br><span class="line"><span class="function"><span class="comment">考虑dp分析： </span></span></span><br><span class="line"><span class="function"><span class="comment">1.确定算法无后效性，也就是当前状态到终止状态，与过去状态到达当前状态无关；</span></span></span><br><span class="line"><span class="function"><span class="comment">2.对可变参数建立table，记录base case；根据base case计算其他未知格子；</span></span></span><br><span class="line"><span class="function"><span class="comment">3.返回目标格子记录的值；</span></span></span><br><span class="line"><span class="function"><span class="comment">*/</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//1.可变参数为cur,cur的范围在N内，还有参数rest;</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(rest+<span class="number">1</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(N+<span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="comment">//当rest为0,那么直接返回0,1（目标位置P）；</span></span><br><span class="line">    dp[<span class="number">0</span>][P] = <span class="number">1</span>;</span><br><span class="line">    <span class="comment">//可以推测walk1,中其他的三个情况下，每一个行（rest）,都仅仅依赖于上一行的结果（rest-1）,因此有了第一行结果，便可</span></span><br><span class="line">    <span class="comment">//求解全部的结果</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> row=<span class="number">1</span>; row&lt;=rest; ++row)<span class="comment">//row表步数rest,col表当前位置cur</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> col=<span class="number">1</span>; col&lt;=N; ++col)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(col==<span class="number">1</span>)</span><br><span class="line">                dp[row][col] = dp[row<span class="number">-1</span>][<span class="number">2</span>] %mod; <span class="comment">//easy error: set 2  </span></span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span>(col==N)</span><br><span class="line">                dp[row][col] = dp[row<span class="number">-1</span>][N<span class="number">-1</span>] %mod; <span class="comment">//easy error: set 2N-1</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                dp[row][col] = (dp[row<span class="number">-1</span>][col<span class="number">-1</span>] + dp[row<span class="number">-1</span>][col+<span class="number">1</span>])%mod;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[rest][cur]%mod; <span class="comment">//返回目标步数为rest，终点为P的结果</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">walk3</span><span class="params">(<span class="keyword">int</span> N, <span class="keyword">int</span> cur, <span class="keyword">int</span> rest, <span class="keyword">int</span> P)</span></span></span><br><span class="line"><span class="function"><span class="comment">/*</span></span></span><br><span class="line"><span class="function"><span class="comment">dp:每次递增rest，每个位置记录是否满足要求步数抵达的值；</span></span></span><br><span class="line"><span class="function"><span class="comment">*/</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//rest为0的dp状态</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(N+<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    dp[P] = <span class="number">1</span>; </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=rest; ++i) <span class="comment">//一直更新到指定步数</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> leftUp = dp[<span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=N; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> tmp = dp[j];</span><br><span class="line">            <span class="keyword">if</span>(j==<span class="number">1</span>)&#123;</span><br><span class="line">                dp[j] = dp[<span class="number">2</span>] % mod; <span class="comment">//dp[j+1]恰好是上一行右以为的结果，即rest-1,在2位置。</span></span><br><span class="line">            &#125;<span class="keyword">else</span> <span class="keyword">if</span>(j==N)&#123;</span><br><span class="line">                dp[j] = leftUp % mod; <span class="comment">//leftUp恰好是上一行左边的结果，即rest-1,在n-1位置。</span></span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                dp[j] = (leftUp+dp[j+<span class="number">1</span>]) % mod;</span><br><span class="line">            &#125;</span><br><span class="line">            leftUp=tmp;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[cur] % mod; <span class="comment">//从cur开始走rest步的答案</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N, M, K, P;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M &gt;&gt; K &gt;&gt; P;</span><br><span class="line">    <span class="keyword">if</span>(N&lt;<span class="number">2</span> || K&lt;<span class="number">1</span> || M&gt;N || M&lt;<span class="number">1</span>|| P&gt;N || P&lt;<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; walk3(N, M, K, P) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="给定数组arr，arr中所有的值都为正整数且不重复。每个值代表一种面值的货币，每种面值的货币可以使用任意张，再给定一个aim，代表要找的钱数，求组成aim的最少货币数。"><a href="#给定数组arr，arr中所有的值都为正整数且不重复。每个值代表一种面值的货币，每种面值的货币可以使用任意张，再给定一个aim，代表要找的钱数，求组成aim的最少货币数。" class="headerlink" title="给定数组arr，arr中所有的值都为正整数且不重复。每个值代表一种面值的货币，每种面值的货币可以使用任意张，再给定一个aim，代表要找的钱数，求组成aim的最少货币数。"></a>给定数组arr，arr中所有的值都为正整数且不重复。每个值代表一种面值的货币，每种面值的货币可以使用任意张，再给定一个aim，代表要找的钱数，求组成aim的最少货币数。</h4><p>输出一个整数，表示组成aim的最小货币数，无解时输出-1.</p>
<ul>
<li>解析：时间复杂度$O(n*aim)O(n∗aim)$，空间复杂度$O(n)O(n)$。</li>
</ul>
<p>//dp:无后效性：前面用了x张面值为t1的钱币，用了y张面值为t2的钱币；$x<em>t1==y</em>t2$,此时后续的搜索是同样的结果，因此无后效性；<br>//cur的范围:从$0&lt;=cur&lt;=N$,即迭代所有的面值；total的范围:从$0&lt;=total&lt;=total$；<br>//每行是迭代的面值，每列是迭代的剩余值，面值从0取到N结束，再判断是都是有效的，也就是最后的剩余值为0，即$DP[N][0]$处；<br>//最终状态：有效位置$dp[N][0]$处为0,其余部分是-1；$dp[0][total]$为题目要求的结果；</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//第一想法：暴力搜索，过程是先从大到小sort钱币数组，去数组第一个最大值可取得的最多张钱，然后贪心的后找剩余钱，若找不到；</span></span><br><span class="line"><span class="comment">//逐步回溯到上次，减少取钱的数目，若回溯到了最开始的地方，且都没找到，取第二大的值，进行同样操作；</span></span><br><span class="line"><span class="comment">//递归设计，设minMoney为给定了钱币数组arr，从cur开始取钱，取total数目的钱的最少货币数。</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minMoney1</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;arr, <span class="keyword">int</span> cur, <span class="keyword">int</span> total)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=cur; i&lt;arr.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> num = total / arr[i]; <span class="comment">//当前取多少钱</span></span><br><span class="line">        <span class="keyword">int</span> resi = total % arr[i]; <span class="comment">//还剩多少要取；</span></span><br><span class="line">        <span class="keyword">if</span>(num==<span class="number">0</span>) <span class="keyword">return</span> minMoney1(arr, cur+<span class="number">1</span>, total);</span><br><span class="line">        <span class="keyword">if</span>(resi==<span class="number">0</span>) </span><br><span class="line">            <span class="keyword">return</span> num; <span class="comment">//已经取完了；</span></span><br><span class="line">        <span class="keyword">else</span> </span><br><span class="line">            <span class="keyword">return</span> num + minMoney1(arr, cur+<span class="number">1</span>, resi);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//不用先sort钱币数组arr的暴力搜索:</span></span><br><span class="line"><span class="function"><span class="keyword">int</span>  <span class="title">process</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;arr, <span class="keyword">int</span> i, <span class="keyword">int</span> rest)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(i == arr.size())</span><br><span class="line">        <span class="keyword">return</span> (rest==<span class="number">0</span>) ? <span class="number">1</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//最少张数，初始为-1，因为还没有找到有效解</span></span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">-1</span>;</span><br><span class="line">    <span class="comment">//一次使用卡片k张；</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>; k*arr[i]&lt;=rest; k++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> next = process(arr, i+<span class="number">1</span>, rest - k*arr[i]);</span><br><span class="line">        <span class="keyword">if</span>(next != <span class="number">-1</span>)<span class="comment">//说明这个过程有效</span></span><br><span class="line">            res = res == <span class="number">-1</span> ? next+k: min(res, next+k);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//dp:无后效性：前面用了x张面值为t1的钱币，用了y张面值为t2的钱币；x*t1==y*t2,此时后续的搜索是同样的结果，因此无后效性；</span></span><br><span class="line"><span class="comment">//cur的范围:从0&lt;=cur&lt;=N,即迭代所有的面值；total的范围:从0&lt;=total&lt;=total；</span></span><br><span class="line"><span class="comment">//每行是迭代的面值，每列是迭代的剩余值，面值从0取到N结束，再判断是都是有效的，也就是最后的剩余值为0，即DP[N][0]处；</span></span><br><span class="line"><span class="comment">//最终状态：有效位置dp[N][0]处为0,其余部分是-1；dp[0][total]为题目要求的结果；</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minMoney2</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;arr, <span class="keyword">int</span> total)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N = arr.size(); </span><br><span class="line">    <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(N+<span class="number">1</span>,<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(total+<span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="comment">//设置最后一排的值</span></span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=total; ++i)</span><br><span class="line">        dp[N][i] = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=N<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i) <span class="comment">//最后一排是已知状态，没次向上计算;</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> rest=<span class="number">0</span>; rest&lt;=total; ++rest)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[i][rest] = <span class="number">-1</span>; <span class="comment">//先置位默认-1；</span></span><br><span class="line">            <span class="keyword">if</span>(dp[i+<span class="number">1</span>][rest] != <span class="number">-1</span>)&#123; <span class="comment">// 有效位置</span></span><br><span class="line">                dp[i][rest] = dp[i+<span class="number">1</span>][rest];</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//如果左边的位置不越界且有效</span></span><br><span class="line">            <span class="keyword">if</span>(rest-arr[i]&gt;=<span class="number">0</span> &amp;&amp; dp[i][rest-arr[i]] != <span class="number">-1</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(dp[i][rest] == <span class="number">-1</span>)&#123; <span class="comment">//之前下面的值为无效的值</span></span><br><span class="line">                    dp[i][rest] = dp[i][rest-arr[i]] + <span class="number">1</span>;</span><br><span class="line">                &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                    dp[i][rest] = min(dp[i][rest], dp[i][rest-arr[i]] + <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="number">0</span>][total];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//单行迭代更新：只需要拿走上面代码中的[i]循环，并且记录上一次里rest的值：dp[i][rest] = dp[i+1][rest];</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">minMoney3</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;arr, <span class="keyword">int</span> total)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N = arr.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(total+<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i&lt;=total; ++i)</span><br><span class="line">        dp[i] = <span class="number">-1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=N<span class="number">-1</span>; i&gt;=<span class="number">0</span>; --i) <span class="comment">//每次更新一行</span></span><br><span class="line">    &#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> rest=<span class="number">0</span>; rest&lt;=total; ++rest) <span class="comment">//一行一共total列</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> tmp = dp[rest]; <span class="comment">//上一轮的rest处的结果</span></span><br><span class="line">            dp[rest] = <span class="number">-1</span>; <span class="comment">//先置位默认-1；</span></span><br><span class="line">            <span class="keyword">if</span>(tmp != <span class="number">-1</span>)&#123;</span><br><span class="line">                dp[rest] = tmp;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(rest-arr[i]&gt;=<span class="number">0</span> &amp;&amp; dp[rest-arr[i]]!= <span class="number">-1</span>)&#123;</span><br><span class="line">                <span class="keyword">if</span>(dp[rest] == <span class="number">-1</span>)</span><br><span class="line">                    dp[rest] = dp[rest-arr[i]] + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                    dp[rest] = min(dp[rest], dp[rest-arr[i]] +<span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[total];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> length, aim;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; length &gt;&gt; aim;</span><br><span class="line">    <span class="keyword">if</span>(length==<span class="number">0</span> || aim&lt;<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; arr(length, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;length; ++i)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; arr[i];</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; minMoney3(arr, aim) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="换钱的方法数"><a href="#换钱的方法数" class="headerlink" title="换钱的方法数"></a>换钱的方法数</h4><blockquote>
<p>给定数组arr，设数组长度为n，arr中所有的值都为正整数且不重复。每个值代表一种面值的货币，每种面值的货币可以使用任意张，再给定一个整数aim，代表要找的钱数，求换钱的方法数有多少种。由于方法的种数比较大，所以要求输出对10^9+7109+7进行取模后的答案.</p>
</blockquote>
<ul>
<li>解析：明确$\text{dp[N][aim]}$ 的意思：用面值为arr[1…N]的纸币，换面值为aim的钱有几种方式，最后初始第一行，每行结果只依赖于上一行左边1位与当前行左边的$\text{ [j-arr[i]]}$ 处。</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//暴力解法：递归每一个面值的货币</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">coins1</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;arr, <span class="keyword">int</span> cur, <span class="keyword">int</span> total)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>; <span class="comment">//后面的递归结果需要累加，则需要设一个累加值</span></span><br><span class="line">    <span class="keyword">if</span>(cur == arr.size())</span><br><span class="line">        <span class="keyword">return</span> total==<span class="number">0</span> ? <span class="number">1</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; arr[cur] * i&lt;=total; ++i)</span><br><span class="line">            res += coins1(arr, cur+<span class="number">1</span>, total-arr[cur]*i); <span class="comment">// 上一个cur的结果等于下一个cur的结果求和</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//dp[N][total]含义: 使用面值为arr[0...N]的钱,组成面额total。</span></span><br><span class="line"><span class="comment">//面值：0&lt;= cur &lt;= arr.size(), 面额：0&lt;=total&lt;=total</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">coins2</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;arr, <span class="keyword">int</span> total)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N = arr.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(N, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(total+<span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;N; ++i) <span class="comment">//面额为0的组成方法为1种，就是不使用任何货币。</span></span><br><span class="line">        dp[i][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j*arr[<span class="number">0</span>]&lt;=total; j++) <span class="comment">//只能使用arr[0],那么能组成的合理面值处为1；</span></span><br><span class="line">        dp[<span class="number">0</span>][j*arr[<span class="number">0</span>]] = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> num = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=total; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            num = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">for</span>(<span class="keyword">int</span> k=<span class="number">0</span>; j-k*arr[i]&gt;=<span class="number">0</span>; ++k)</span><br><span class="line">                num =  (num+dp[i<span class="number">-1</span>][j-k*arr[i]])%mod;</span><br><span class="line">            dp[i][j] = num%mod;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[N<span class="number">-1</span>][total] % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//省去上面的第三个for循环，当前的值只依赖于上面行的对应值和本行的一个值；</span></span><br><span class="line"><span class="comment">//时间复杂度为O(N*total)</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">coins3</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;arr, <span class="keyword">int</span> total)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N = arr.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(N, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(total+<span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;N; ++i) <span class="comment">//面额为0的组成方法为1种，就是不使用任何货币。</span></span><br><span class="line">        dp[i][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j*arr[<span class="number">0</span>]&lt;=total; j++) <span class="comment">//只能使用arr[0],那么能组成的合理面值处为1；</span></span><br><span class="line">        dp[<span class="number">0</span>][j*arr[<span class="number">0</span>]] = <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>; j&lt;=total; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[i][j] = dp[i<span class="number">-1</span>][j] % mod; <span class="comment">//先等于左边的值</span></span><br><span class="line">            dp[i][j] += j - arr[i] &gt;= <span class="number">0</span> ? dp[i][j-arr[i]] % mod: <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[N<span class="number">-1</span>][total] % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//空间压缩</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">coins4</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;arr, <span class="keyword">int</span> total)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N = arr.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">long</span>&gt; dp(total+<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j*arr[<span class="number">0</span>]&lt;=total; j++) <span class="comment">//只能使用arr[0],那么能组成的合理面值处为1；</span></span><br><span class="line">        dp[j*arr[<span class="number">0</span>]] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;N;++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>; j&lt;=total; ++j)</span><br><span class="line">        &#123;</span><br><span class="line">             dp[j] += (j-arr[i]&gt;=<span class="number">0</span>) ? (dp[j-arr[i]]% mod) : <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[total] % mod;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n, total;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n &gt;&gt; total;</span><br><span class="line">    <span class="keyword">if</span>(n&lt;=<span class="number">0</span> || total&lt;<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; arr(n, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>; i&lt;n; ++i)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; arr[i];</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; coins4(arr ,total) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="打气球的最大分数"><a href="#打气球的最大分数" class="headerlink" title="打气球的最大分数"></a>打气球的最大分数</h4><blockquote>
<p>给定一个数组arr,长度为n。代表排有分数的气球。 每打爆一个气球都能获得分数，假设打爆气球的分数为X，获得分数的规则如下:<br>      1)如果被打爆气球的左边有没被打爆的气球，找到离被打爆气球最近的气球，假设分数为L:如果被打爆气球的右边有没被打爆的气球，找到离被打爆气球最近的气球，假设分数为R.获得分数为L<em>X</em>R<br>      2)如果被打爆的气球的左边有没被打爆的气球，找到离被打爆气球最近的气球，假设分数为L:如果被打爆气球的右边所有气球都已经被打爆，获得分数为L<em>X。<br>      3)如果被打爆气球的左边所有的气球都已经被打爆:如果被打爆气球的右边有没被打爆的气球，找到离被打爆气球最近的气球。获得分数为X</em>R.<br>      4)如果被打爆气球的左边和右边所有的气球都已经被打爆。获得分数为X。<br>      目标是打爆所有气球，获得每次打爆的分数。通过选择打爆气球的顺序，可以得到不同的总分，请返回能获得的最大分数。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">输入</span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">3</span> <span class="number">2</span> <span class="number">5</span></span><br><span class="line"></span><br><span class="line">输出</span><br><span class="line"><span class="number">50</span></span><br><span class="line"><span class="number">2</span>-&gt;<span class="number">1</span>-&gt;<span class="number">3</span>  <span class="number">3</span>*<span class="number">2</span>*<span class="number">5</span>+<span class="number">3</span>*<span class="number">5</span>+<span class="number">5</span>=<span class="number">50</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><p>解析：</p>
<blockquote>
<p>设要打爆arr[L..R]范围的所有气球，并且假设arr[L-1]和arr[R+1]都没有打爆，记为process(L,R);<br>1.最后打爆arr[L]的方案;<br>2.最后打爆arr[R]的方案；<br>3.最后打爆arr[i]的方法，其中有 L..i…R；<br>去上面三种情况中最大的便是最大得分，同时记arr的开头和结尾都是1，这样便不用考虑越界问题。</p>
</blockquote>
</li>
</ul>
  <figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">process1</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; arr, <span class="keyword">int</span> L, <span class="keyword">int</span> R)</span></span>&#123; <span class="comment">//递归法</span></span><br><span class="line">    <span class="comment">//若只有一个气球，直接打爆就行；</span></span><br><span class="line">    <span class="keyword">if</span> (L == R) <span class="keyword">return</span> arr[L - <span class="number">1</span>] * arr[L] * arr[R + <span class="number">1</span>];</span><br><span class="line">    <span class="comment">//最后打爆arr[L]的方案;最后打爆arr[R]的方案；</span></span><br><span class="line">    <span class="keyword">int</span> Max = max(arr[L - <span class="number">1</span>] * arr[L] * arr[R + <span class="number">1</span>] + process1(arr, L + <span class="number">1</span>, R),</span><br><span class="line">                 arr[L - <span class="number">1</span>] * arr[R] * arr[R + <span class="number">1</span>] + process1(arr, L, R - <span class="number">1</span>));</span><br><span class="line">    <span class="comment">//最后打爆arr[i]的方法，其中有 L..i...R；</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = L + <span class="number">1</span>; i &lt; R; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        Max = max(Max, arr[L - <span class="number">1</span>] * arr[i] * arr[R + <span class="number">1</span>] + </span><br><span class="line">                 process1(arr, L, i - <span class="number">1</span>) + process1(arr, i + <span class="number">1</span>, R));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">考虑打5个气球，建立一个7*7的dp表，变量为L,R；</span></span><br><span class="line"><span class="comment">L&lt;R，下山角用不上，二维dp表最外环都用不上；</span></span><br><span class="line"><span class="comment">L == R，对角线元素为arr[L - 1] * arr[L] * arr[R + 1]可直接得到；</span></span><br><span class="line"><span class="comment">其他位置，经分析比如最终答案在dp[1][5]的地方，它依赖于最后打爆1,那么有dp[2][5]（下边）,最后打爆5，那么有dp[1][4](左边)</span></span><br><span class="line"><span class="comment">，只依赖于左边与下边位置，因此从下往上，从左往右填表；</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">process2</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp; arr)</span> <span class="comment">// 动态规划</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(arr.size(), <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(arr.size(), <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= arr.size() - <span class="number">2</span>; ++i)</span><br><span class="line">        dp[i][i] = arr[i - <span class="number">1</span>] * arr[i] * arr[i + <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> L = arr.size() - <span class="number">2</span>; L &gt;= <span class="number">1</span>; L--)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> R = L + <span class="number">1</span>; R &lt;= arr.size() - <span class="number">2</span> ; R++)</span><br><span class="line">        &#123;<span class="comment">//dp[L][R],表示打爆arr[L..R]上所有气球的得分；</span></span><br><span class="line">            <span class="comment">//最后打爆L的得分;最后打爆R的得分</span></span><br><span class="line">            <span class="keyword">int</span> finalL = arr[L - <span class="number">1</span>] * arr[L] * arr[R + <span class="number">1</span>]  + dp[L+<span class="number">1</span>][R];</span><br><span class="line">            <span class="keyword">int</span> finalR = arr[L - <span class="number">1</span>] * arr[R] * arr[R + <span class="number">1</span>] + dp[L][R - <span class="number">1</span>];</span><br><span class="line">            dp[L][R] = max(finalL, finalR);</span><br><span class="line">            <span class="comment">//中间打爆的情况</span></span><br><span class="line">            <span class="keyword">for</span>( <span class="keyword">int</span> i = L + <span class="number">1</span>; i &lt; R; i++)</span><br><span class="line">                dp[L][R] = max(dp[L][R], arr[L - <span class="number">1</span>] * arr[i] * arr[R + <span class="number">1</span>] + dp[L][i - <span class="number">1</span>] + dp[i + <span class="number">1</span>][R]);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="number">1</span>][arr.size() - <span class="number">2</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N; <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">if</span> (!N)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; arr(N + <span class="number">2</span>, <span class="number">0</span>);</span><br><span class="line">    arr[<span class="number">0</span>] = <span class="number">1</span>; arr[N + <span class="number">1</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= N; ++i)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; arr[i];</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; process2(arr) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="最长递增子序列"><a href="#最长递增子序列" class="headerlink" title="最长递增子序列"></a>最长递增子序列</h4><blockquote>
<p>给定数组arr，设长度为n，输出arr的最长递增子序列。（如果有多个答案，请输出其中字典序最小的）</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">输出一行。代表你求出的最长的递增子序列。</span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="number">2</span> <span class="number">1</span> <span class="number">5</span> <span class="number">3</span> <span class="number">6</span> <span class="number">4</span> <span class="number">8</span> <span class="number">9</span> <span class="number">7</span></span><br><span class="line"></span><br><span class="line">输出</span><br><span class="line"><span class="number">1</span> <span class="number">3</span> <span class="number">4</span> <span class="number">8</span> <span class="number">9</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><p>解析：1.动态规划算法：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* </span></span><br><span class="line"><span class="comment">1. O(N^2)的解法</span></span><br><span class="line"><span class="comment">2. O(NlgN)的解法：利用辅助数组配合使用二分查找；</span></span><br><span class="line"><span class="comment">step1: 得到dp表</span></span><br><span class="line"><span class="comment">设dp[i]为数组arr以第i个元素结尾的时候最长递增子序列的长度；</span></span><br><span class="line"><span class="comment">若arr[i]结尾，那么在arr[0...i-1]中所有比arr[i]小的数都可以作为倒数第二个数；选择以结尾有最长递增子序列的数；</span></span><br><span class="line"><span class="comment">即dp[i] = dp[j] + 1, 其中有 0&lt;= j &lt; i；</span></span><br><span class="line"><span class="comment">step2:从dp里得到最长递增子序列</span></span><br><span class="line"><span class="comment">先遍历dp找到最大数的位置i，该i位置的数为递增子序列的结尾数字；</span></span><br><span class="line"><span class="comment">然后从右到左寻找递增子序列的倒数第2个数, 它的位置j满足dp[j] + 1 = dp[i]；依次下去；</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; getdp1(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;arr)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(arr.size(), <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;  i &lt; arr.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        dp[i] = <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; i; j++)</span><br><span class="line">            <span class="keyword">if</span>(arr[j] &lt; arr[i]) dp[i] = max(dp[i], dp[j] + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//辅助数组ends[i]里存着长度为i+1的递增序列结尾最小的数，如2,5   2,3则，ends[1]=3里存着长度为2的递增序列结尾最小数</span></span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; getdp2(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;arr)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(arr.size(), <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; ends(arr.size(), <span class="number">0</span>);</span><br><span class="line">    ends[<span class="number">0</span>] = arr[<span class="number">0</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> right = <span class="number">0</span>, l = <span class="number">0</span>, r = <span class="number">0</span> , m = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; arr.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        l = <span class="number">0</span>; r = right;</span><br><span class="line">        <span class="keyword">while</span>(l &lt;= r)&#123;</span><br><span class="line">            m = l + (r - l)/ <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (arr[i] &gt; ends[m]) l = m + <span class="number">1</span>; <span class="comment">//最终递归结束时排查了ends里最末的数字，l等于ends的长度</span></span><br><span class="line">            <span class="keyword">else</span> r = m - <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        right = max(right, l);</span><br><span class="line">        ends[l] = arr[i];</span><br><span class="line">        dp[i] = l + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; generateLIS(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;arr, <span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;dp)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">int</span> len = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> index = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; dp.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (dp[i] &gt;= len)&#123;len = dp[i]; index = i;&#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; LIS(len, <span class="number">0</span>);</span><br><span class="line">    LIS[--len] = arr[index];</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = index; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        <span class="comment">//两个条件：1.小于结尾；满足差为1；</span></span><br><span class="line">        <span class="keyword">if</span>(dp[i] + <span class="number">1</span> == dp[index] &amp;&amp; arr[i] &lt; arr[index])</span><br><span class="line">        &#123;</span><br><span class="line">            index = i;</span><br><span class="line">            LIS[--len] = arr[i];</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> LIS;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>  N; <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; arr(N, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++) <span class="built_in">cin</span> &gt;&gt; arr[i];</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp = getdp2(arr);</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; LIS = generateLIS(arr, dp);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">auto</span> i : LIS) <span class="built_in">cout</span> &lt;&lt; i &lt;&lt; <span class="string">" "</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="信封嵌套问题"><a href="#信封嵌套问题" class="headerlink" title="信封嵌套问题"></a>信封嵌套问题</h4><blockquote>
<p>给n个信封的长度和宽度。如果信封A的长和宽都小于信封B，那么信封A可以放到信封B里，请求出信封最多可以嵌套多少层。</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输出包含多行，第一行包括一个整数，代表信封的个数n\left(1 \leq n\leq  10^&#123;5&#125;\right)(1≤n≤105)。接下来n行，每行两个整数l<span class="emphasis">_ili和w_</span>iwi，代表信封的长度和宽度\left( -1e9\leq l<span class="emphasis">_i,w_</span>i \leq 1e9 \right)(−1e9≤li,wi≤1e9)。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>输出包括一行，代表信封最多嵌套多少层。</p>
</blockquote>
<ul>
<li><p>解析：先按着信封的长度顺序排列好，然后对宽度的处理与最长递增子序列一样;</p>
<p>注：c++中的 <code>multimap&lt;int, int&gt; table</code>是按键有序的，因此放入其中已经有序。</p>
<p>倒序的存储先设置比较的函数<code>multimap&lt;int, int, greater&lt;int&gt;&gt;</code></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">countLetter</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;width)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; table;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; width.size(); ++i)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">auto</span> it = lower_bound(table.begin(), table.end(), width[i]);</span><br><span class="line">        <span class="keyword">if</span> (it == table.end()) table.push_back(width[i]);</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            *it = width[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> table.size();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N; <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="built_in">multimap</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; table;</span><br><span class="line">    <span class="keyword">int</span> a, b;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; a &gt;&gt; b;</span><br><span class="line">        table.insert(make_pair(a, b));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; width;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">auto</span> it = table.begin(); it != table.end(); ++it)</span><br><span class="line">    &#123;</span><br><span class="line">        width.push_back(it-&gt;second);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; countLetter(width);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="汉诺塔问题"><a href="#汉诺塔问题" class="headerlink" title="汉诺塔问题"></a>汉诺塔问题</h4><blockquote>
<p>汉诺塔问题比较经典，这里修改一下游戏规则：现在限制不能从最左侧的塔直接移动到最右侧，也不能从最右侧直接移动到最左侧，而是必须经过中间。求当塔有n层的时候，打印最优移动过程和最优移动总步数。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入一个数n，表示塔层数</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">Move 1 from left to mid</span><br><span class="line">Move 1 from mid to right</span><br><span class="line">Move 2 from left to mid</span><br><span class="line">Move 1 from right to mid</span><br><span class="line">Move 1 from mid to left</span><br><span class="line">Move 2 from mid to right</span><br><span class="line">Move 1 from left to mid</span><br><span class="line">Move 1 from mid to right</span><br><span class="line">It will move 8 steps.</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">当塔数为两层时，最上层的塔记为1，最下层的塔记为2</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li>解析：递归解决，因为必须经过中间，那么递归函数从左到右、从右到左，其中插入经过中间的打印函数；</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">long</span> step = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">left_mid</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    step++;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Move "</span> &lt;&lt; n &lt;&lt;<span class="string">" from left to mid"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mid_left</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    step++;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Move "</span> &lt;&lt; n &lt;&lt;<span class="string">" from mid to left"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">right_mid</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    step++;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Move "</span> &lt;&lt; n &lt;&lt;<span class="string">" from right to mid"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">mid_right</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    step++;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"Move "</span> &lt;&lt; n &lt;&lt;<span class="string">" from mid to right"</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> _hanoi(<span class="keyword">int</span> n, <span class="keyword">bool</span> type)&#123; <span class="comment">//type==1 left to right type==0 right to left</span></span><br><span class="line">    <span class="keyword">if</span>(!n) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">else</span>&#123;</span><br><span class="line">        _hanoi(n<span class="number">-1</span>, type); <span class="comment">//翻转开始，左边翻到右边</span></span><br><span class="line">        type ? left_mid(n): right_mid(n); <span class="comment">//经过中间</span></span><br><span class="line">        _hanoi(n<span class="number">-1</span>,type^<span class="number">1</span>); <span class="comment">// 右边翻到左边</span></span><br><span class="line">        type ? mid_right(n): mid_left(n); <span class="comment">//经过中间</span></span><br><span class="line">        _hanoi(n<span class="number">-1</span>,type);   <span class="comment">//下一轮翻转开始....</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">hanoi</span><span class="params">(<span class="keyword">int</span> n)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &gt; <span class="number">0</span>) </span><br><span class="line">        _hanoi(n, <span class="number">1</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; <span class="string">"It will move "</span> &lt;&lt; step &lt;&lt; <span class="string">" steps."</span> &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N; <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    hanoi(N);</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="最常公共子序列"><a href="#最常公共子序列" class="headerlink" title="最常公共子序列"></a>最常公共子序列</h4><blockquote>
<p>给定两个字符串str1和str2，输出连个字符串的最长公共子序列。如过最长公共子序列为空，则输出-1。给定两个字符串str1和str2，输出连个字符串的最长公共子序列。如过最长公共子序列为空，则输出-1。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输出包括两行，第一行代表字符串str1，第二行代表str2。\left( <span class="number">1</span>\leq length(str1),length(str2) \leq <span class="number">5000</span>\right)(<span class="number">1</span>≤length(str1),length(str2)≤<span class="number">5000</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>A2C3D4B56</span><br><span class="line">B1D23CA45B6A</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&quot;123456&quot;和“12C4B6”都是最长公共子序列，任意输出一个。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><p>解析：1. 最长公共子序列：先初始化dp的第一行和第一列，从左到右，从上到下计算每一个<code>dp[i][j]</code>;含义是<code>str1[0...i]</code> 与<code>str[0....j]</code>的最长公共子序列的长度。</p>
<p>​            2. 回溯的过程也是判断怎么生成dp的过程，如果<code>dp[i][j]</code>位置大于左边<code>i-1</code>和上边<code>j-1</code>位置，那么该<code>i</code>处的字符属于公共最长里的，否则网上或左走就行。</p>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; getdp(<span class="keyword">const</span> <span class="built_in">string</span> &amp;str1, <span class="keyword">const</span> <span class="built_in">string</span> &amp;str2)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(str1.size(), <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(str2.size(), <span class="number">0</span>));</span><br><span class="line">    </span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = str1[<span class="number">0</span>] == str2[<span class="number">0</span>] ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; str1.size(); i++)</span><br><span class="line">        dp[i][<span class="number">0</span>] = max(dp[i - <span class="number">1</span>][<span class="number">0</span>], dp[i][<span class="number">0</span>] == str2[<span class="number">0</span>] ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; str2.size(); j++)</span><br><span class="line">        dp[<span class="number">0</span>][j] = max(dp[<span class="number">0</span>][j - <span class="number">1</span>], dp[<span class="number">0</span>][j] == str1[<span class="number">0</span>] ? <span class="number">1</span> : <span class="number">0</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; str1.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; str2.size(); j++)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[i][j] = max(dp[i][j - <span class="number">1</span>], dp[i - <span class="number">1</span>][j]);</span><br><span class="line">            <span class="keyword">if</span> (str1[i] == str2[j])</span><br><span class="line">                dp[i][j] = max(dp[i - <span class="number">1</span>][j - <span class="number">1</span>] + <span class="number">1</span>, dp[i][j]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">longestCommonSubsequense</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> str1, <span class="keyword">const</span> <span class="built_in">string</span> str2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(str1.empty() || str2.empty() || str1.size()&lt; <span class="number">1</span> || str2.size() &lt; <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp = getdp(str1, str2);</span><br><span class="line">    <span class="keyword">int</span> l1 = str1.size() - <span class="number">1</span>, l2 = str2.size() - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> index = dp[l1][l2];</span><br><span class="line">    <span class="keyword">char</span>  res[index--];</span><br><span class="line">    <span class="keyword">while</span>(index &gt;= <span class="number">0</span>) <span class="comment">//</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (l1 &gt; <span class="number">0</span> &amp;&amp; dp[l1][l2] == dp[l1 - <span class="number">1</span>][l2]) <span class="comment">//等于左或上方向的时候，只移动方向便可，公共字符在前面。</span></span><br><span class="line">            l1--;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (l2 &gt; <span class="number">0</span> &amp;&amp; dp[l1][l2] == dp[l1][l2 - <span class="number">1</span>])</span><br><span class="line">            l2--;</span><br><span class="line">        <span class="keyword">else</span>&#123; <span class="comment">//比左或上方向都大的时候，可以确定这一个位置的字符是公共字符，加入结果并且到下一个公共dp子串上看剩下的结果</span></span><br><span class="line">            res[index--] = str1[l1];</span><br><span class="line">            l1--;</span><br><span class="line">            l2--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> str1, str2;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; str1 &gt;&gt; str2;</span><br><span class="line">    <span class="built_in">string</span> res = longestCommonSubsequense(str1, str2);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; res &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="最长公共子串"><a href="#最长公共子串" class="headerlink" title="最长公共子串"></a>最长公共子串</h4><blockquote>
<p>给定两个字符串str1和str2,输出两个字符串的最长公共子串，如果最长公共子串为空，输出-1。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>AB2345CD</span><br><span class="line"><span class="number">12345</span>EF</span><br><span class="line">输出：</span><br><span class="line"><span class="number">2345</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li>两种方法如下：</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">1.DP解法:</span></span><br><span class="line"><span class="comment">dp[i][j]代表的意思：当str1[i]与str2[j]作为公共结尾的情况下，最长的公共子串能有多长；</span></span><br><span class="line"><span class="comment">当str1[i]与str2[j]不等时，dp[i][j]=0；</span></span><br><span class="line"><span class="comment">当str1[i]与str2[j]相等时，dp[i][j]=dp[i-1][j-1] + 1了。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">func</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;str1, <span class="keyword">const</span> <span class="built_in">string</span> &amp;str2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (str1.empty() || str2.empty() || str1.size() &lt; <span class="number">1</span> || str2.size() &lt; <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">int</span> row = str1.size() - <span class="number">1</span>, col = str2.size() - <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(str1.size(), <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(str2.size(), <span class="number">0</span>));</span><br><span class="line">    <span class="comment">//dp[0][0] = str1[0] == str2[0] ? 1 : 0;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= row; i++)</span><br><span class="line">        dp[i][<span class="number">0</span>] = str1[i] == str2[<span class="number">0</span>] ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= col; j++)</span><br><span class="line">        dp[<span class="number">0</span>][j] = str1[<span class="number">0</span>] == str2[j] ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= row; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= col; j++)</span><br><span class="line">            <span class="keyword">if</span> (str1[i] == str2[j])</span><br><span class="line">                dp[i][j] = dp[i<span class="number">-1</span>][j<span class="number">-1</span>] + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                dp[i][j] = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> max = <span class="number">0</span>, end = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= row; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= col; j++)</span><br><span class="line">            <span class="keyword">if</span> (dp[i][j] &gt; max)&#123;</span><br><span class="line">                end = i;</span><br><span class="line">                max = dp[i][j];</span><br><span class="line">            &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> (max == <span class="number">0</span>) ?  <span class="string">"-1"</span>: str1.substr(end - max + <span class="number">1</span>, max);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//2.观察发现dp中的状态依赖dp[i][j]只依赖于左上元素，因此可以简化为空间复杂度$O(1)$</span></span><br><span class="line"><span class="comment">//用len表示左上方的值；</span></span><br><span class="line"><span class="comment">//注意：每一条从左上到右下的斜线代表了可能的最长公共子串，对每条斜线都初始化len；</span></span><br><span class="line"><span class="function"><span class="built_in">string</span> <span class="title">func2</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;str1, <span class="keyword">const</span> <span class="built_in">string</span> &amp;str2)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (str1.empty() || str2.empty() || str1.size() &lt; <span class="number">1</span> || str2.size() &lt; <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="string">""</span>;</span><br><span class="line">    <span class="keyword">int</span> row = <span class="number">0</span>, col = str2.size() - <span class="number">1</span>;<span class="comment">//斜线开始位置的行，斜线开始位置的列；</span></span><br><span class="line">    <span class="keyword">int</span> Max = <span class="number">0</span>, end = <span class="number">0</span>; <span class="comment">//Max:记录最大长度，end:记录最大长度更新时，子串的结束位置。</span></span><br><span class="line">    <span class="keyword">while</span> (row &lt; str1.size())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">int</span> i = row, j = col, len = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">//从（i，j）开始向右下方遍历</span></span><br><span class="line">        <span class="keyword">while</span>(i &lt; str1.size() &amp;&amp; j &lt; str2.size())</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (str1[i] != str2[j]) len = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">else</span> len++;</span><br><span class="line">            <span class="comment">//记录最大值</span></span><br><span class="line">            <span class="keyword">if</span> (len &gt; Max)</span><br><span class="line">            &#123;</span><br><span class="line">                end = i;</span><br><span class="line">                Max = len;</span><br><span class="line">            &#125;</span><br><span class="line">            i++;</span><br><span class="line">            j++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (col &gt; <span class="number">0</span>) col--;</span><br><span class="line">        <span class="keyword">else</span> row++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> (Max == <span class="number">0</span>) ?  <span class="string">"-1"</span>: str1.substr(end - Max + <span class="number">1</span>, Max);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> str1, str2;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; str1 &gt;&gt; str2;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; func2(str1, str2) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="最小编辑代价"><a href="#最小编辑代价" class="headerlink" title="最小编辑代价"></a>最小编辑代价</h4><blockquote>
<p>给定两个字符串str1和str2，再给定三个整数ic，dc和rc，分别代表插入、删除和替换一个字符的代价，请输出将str1编辑成str2的最小代价。</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输出三行，第一行和第二行均为一行字符串，分别表示两个字符串str1，str2。\left( 1\leq length(str1),length(str2) \leq 5000 \right)(1≤length(str1),length(str2)≤5000)。第三行为三个正整数，代表ic，dc和rc。（1<span class="xml"><span class="tag">&lt;<span class="name">=ic</span>&lt;=<span class="string">10000、1</span>&lt;=<span class="string">dc</span>&lt;=<span class="string">10000、1</span>&lt;=<span class="string">rc</span>&lt;=<span class="string">10000）</span></span></span></span><br><span class="line"><span class="xml"></span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">abc</span><br><span class="line">adc</span><br><span class="line"><span class="number">5</span> <span class="number">3</span> <span class="number">2</span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li>解析如下：</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">给定条件：ic：插入一个字符的代价；dc：删除一个字符的代价；rc：替换一个字符的代价；</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">s1长度为N，s2长度为M，生成dp[N+1] [M+1]；</span></span><br><span class="line"><span class="comment">&lt;span style="color:orange"&gt;dp[i] [j]：子串s1[0...i-1]编辑成为子串s2[0...j-1]的最小代价；&lt;/span&gt;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">dp[0] [0]：空串编辑成为空串的代价为0；</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">dp[0] [i]：空串编辑成为s2的代价为插入s2里所有的字符：= ic * i;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">dp[i] [0] ：子串s1编辑成为空串的代价为删除所有s1中的字符：= dc * i</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">dp[i] [j] ：的来源有四种情况：</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">- 1、子串s1[0...i-1]删除最后一个字符，然后由s1[0...i-2]编辑为s2[0...j-1]，dp[i] [j] = dc + dp[i - 1] [j]</span></span><br><span class="line"><span class="comment">- 2、子串s1[0...i-1]编辑成s2[0....j-2]，然后由s2[0...j-2]插入最后字符s2[j-1]得到，dp[i] [j] = ic + dp[i] [j - 1]</span></span><br><span class="line"><span class="comment">- 3、如果s1[i - 1] != s2[j - 1]， 那么可由前面s1[0... i - 2]编辑为s2[0.... j - 2],最后的字符替换为s2[j - 1]，dp[i] [j] = rc + dp[i - 1] [j - 1]</span></span><br><span class="line"><span class="comment">- 4、 如果s1[i - 1] == s2[j - 1]，那么可由前面的s1[0... i - 2]编辑为s2[0.... j - 2],最后的字符已经相等，dp[i] [j] =  dp[i - 1] [j - 1]</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dp</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;str1, <span class="keyword">const</span> <span class="built_in">string</span> &amp;str2, <span class="keyword">int</span> ic,<span class="keyword">int</span> dc,<span class="keyword">int</span> rc)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> row = str1.size(), col = str2.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(row + <span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(col + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= row; i++)<span class="comment">//str1编辑为空串str2：删除</span></span><br><span class="line">        dp[i][<span class="number">0</span>] = i * dc;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= col; j++) <span class="comment">//str1为空串：插入</span></span><br><span class="line">        dp[<span class="number">0</span>][j] = j * ic; </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= row; i++)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= col; j++)</span><br><span class="line">        &#123;</span><br><span class="line">            dp[i][j] = min(dc + dp[i - <span class="number">1</span>][j], ic + dp[i][j - <span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">if</span> (str1[i - <span class="number">1</span>] == str2[j - <span class="number">1</span>]) <span class="comment">//dp[i][j]代表的子串对比是i-1与j-1</span></span><br><span class="line">                dp[i][j] = min(dp[i][j], dp[i - <span class="number">1</span>][j - <span class="number">1</span>]);</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                dp[i][j] = min(dp[i][j], dp[i - <span class="number">1</span>][j - <span class="number">1</span>] + rc);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[row][col];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">方法2：空间复杂度为最短的串长，但是得把该短的串作为列对应的串，若串1短，交换串2，并且交换插入代价ic和删除代价dc</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dp2</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;str1, <span class="keyword">const</span> <span class="built_in">string</span> &amp;str2, <span class="keyword">int</span> ic,<span class="keyword">int</span> dc,<span class="keyword">int</span> rc)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> LongStr = str1.size() &gt; str2.size() ? str1  : str2;</span><br><span class="line">    <span class="built_in">string</span> ShortStr = str1.size() &gt; str2.size() ? str2 : str1;</span><br><span class="line">    <span class="keyword">if</span> (str1.size() &lt; str2.size())</span><br><span class="line">    &#123;</span><br><span class="line">        ic = ic ^ dc; <span class="comment">// a^b^b = a; a^b^a = b</span></span><br><span class="line">        dc = ic ^ dc;</span><br><span class="line">        ic = ic ^ dc;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(ShortStr.size() + <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= ShortStr.size(); i++)</span><br><span class="line">        dp[i] = i * ic; </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= LongStr.size(); i++)&#123;</span><br><span class="line">        <span class="keyword">int</span> pre = dp[<span class="number">0</span>]; <span class="comment">//pre表示左上角的值</span></span><br><span class="line">        dp[<span class="number">0</span>] = dc * i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= ShortStr.size(); j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> tmp = dp[j]; <span class="comment">//还未更新前先保存</span></span><br><span class="line">            <span class="keyword">if</span> (LongStr[i - <span class="number">1</span>] == ShortStr[j - <span class="number">1</span>])</span><br><span class="line">                dp[j] = pre;</span><br><span class="line">            <span class="keyword">else</span> </span><br><span class="line">                dp[j] = pre + rc;</span><br><span class="line">            dp[j] = min(dp[j], dp[j - <span class="number">1</span>] + ic);</span><br><span class="line">            dp[j] = min(dp[j], tmp + dc);</span><br><span class="line">            pre = tmp; <span class="comment">//pre变成dp[j]没更新前的值</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[ShortStr.size()];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> str1, str2;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; str1 &gt;&gt; str2;</span><br><span class="line">    <span class="keyword">int</span> ic, dc, rc;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; ic &gt;&gt; dc &gt;&gt; rc;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; dp2(str1, str2, ic, dc, rc);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="子数组异或和为0的最多划分"><a href="#子数组异或和为0的最多划分" class="headerlink" title="子数组异或和为0的最多划分"></a>子数组异或和为0的最多划分</h4><blockquote>
<p>给定一个整型数组arr，其中可能有正有负有零。你可以随意把整个数组切成若干个不相容的子数组，求异或和为0的子数组最多可能有多少个？整数异或和定义：把数组中所有的数异或起来得到的值。</p>
<figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输出包括两行，第一行一个整数，代表数组长度n(1 \leq n \leq 10^6)(1≤n≤106)。第二行有n个整数，代表数组arr\left(-1e9 \leq arr_i \leq 1e9 \right)(−1e9≤arri≤1e9)。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">3</span> <span class="number">2</span> <span class="number">1</span> <span class="number">9</span> <span class="number">0</span> <span class="number">7</span> <span class="number">0</span> <span class="number">2</span> <span class="number">1</span> <span class="number">3</span></span><br><span class="line">Output:</span><br><span class="line"><span class="number">4</span></span><br><span class="line">&gt;最优划分：&#123;<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>&#125;,&#123;<span class="number">9</span>&#125;,&#123;<span class="number">0</span>&#125;,&#123;<span class="number">7</span>&#125;,&#123;<span class="number">0</span>&#125;,&#123;<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>&#125; 其中&#123;<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>&#125;,&#123;<span class="number">0</span>&#125;,&#123;<span class="number">0</span>&#125;,&#123;<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>&#125;的异或和为<span class="number">0</span></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li>解析如下：</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">dp[i]:长度为i的数组的子数组异或和为0的最多划分结果；</span></span><br><span class="line"><span class="comment">假设dp[0...i-1]已经求出来了，那么求dp[i]：</span></span><br><span class="line"><span class="comment">考虑最后一个子数组包含了最后的最后这个i元素</span></span><br><span class="line"><span class="comment">1. 最后一个子数组的异或和不为0, 那么dp[i] = dp[i-1],因为跟这个子数组无关；</span></span><br><span class="line"><span class="comment">2. 最后一个子数组的异或和为0, 那么需要找到这个子数组的开头在哪里，也就是[k...i]中的k；</span></span><br><span class="line"><span class="comment">3. 用hash表，</span></span><br><span class="line"><span class="comment">4.异或：0^n = n; n^n = 0, n是大于0的整数;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">XorMaxZero</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;arr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">//查找上一个异或和为0的索引，键等于异或和，值为索引</span></span><br><span class="line">    <span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; table;</span><br><span class="line">    <span class="comment">//表示未遍历时便有了0这个异或和</span></span><br><span class="line">    table.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(<span class="number">0</span>, <span class="number">-1</span>));</span><br><span class="line">    <span class="keyword">int</span> XOR = <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(arr.size(), <span class="number">0</span>);</span><br><span class="line">    dp[<span class="number">0</span>] = arr[<span class="number">0</span>] == <span class="number">0</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    table.insert(pair&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt;(arr[<span class="number">0</span>], <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">1</span>; i &lt; arr.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        XOR ^= arr[i];</span><br><span class="line">        <span class="keyword">auto</span> it = table.find(XOR);</span><br><span class="line">        <span class="keyword">if</span> (it != table.end())</span><br><span class="line">        &#123;</span><br><span class="line">            dp[i] = it-&gt;second == <span class="number">-1</span> ? <span class="number">1</span>: (dp[it-&gt;second] + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        dp[i] = max(dp[i - <span class="number">1</span>], dp[i]);</span><br><span class="line">        table[XOR] = i; <span class="comment">// 不能用insert;</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[arr.size() - <span class="number">1</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N; <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; arr(N, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; arr.size(); i++)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; arr[i];</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; XorMaxZero(arr) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="N皇后问题"><a href="#N皇后问题" class="headerlink" title="N皇后问题"></a>N皇后问题</h4><blockquote>
<p>N皇后问题是指在N*N的棋盘上要摆N个皇后，要求任何两个皇后不同行，不同列也不再同一条斜线上，求给一个整数n，返回n皇后的摆法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">8</span><br><span class="line">92</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li>解析：考虑递归解法：<ul>
<li>用一个等于输入N的数组来记录，其中 value of table[i] means column position of a Queen in row i.</li>
<li>注重点：（a,b）位置放置了一个皇后，那它的对角线位置（i，j）满足公式：|a-i| == |b-j|</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">考虑递归解法：</span></span><br><span class="line"><span class="comment">注重点：（a,b）位置放置了一个皇后，那它的对角线位置（i，j）满足公式：|a-i| == |b-j|</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//table[i]代表的是第i行放置皇后的列位置为table[i]:也就是：行i列table[i]</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isValid</span><span class="params">(<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;record, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; i; k++)<span class="comment">//之前的列位置拿出来比较，不能相等；斜对角线的位置比较，不能相等；</span></span><br><span class="line">        <span class="keyword">if</span> (j == record[k] || <span class="built_in">abs</span>(record[k] - j) == <span class="built_in">abs</span>(i - k))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">process1</span><span class="params">(<span class="keyword">int</span> i, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;record, <span class="keyword">int</span> N)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (i == N) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; N; j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (isValid(record, i, j))</span><br><span class="line">        &#123;</span><br><span class="line">            record[i] = j;</span><br><span class="line">            res += process1(i + <span class="number">1</span>, record, N);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span>  res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">num1</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">1</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; record(n, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> process1(<span class="number">0</span>, record, n);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>  N; <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; num1(N) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">num2</span><span class="params">(<span class="keyword">int</span> N, <span class="keyword">int</span> row, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;record)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (row == N) <span class="keyword">return</span> <span class="number">1</span>; </span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">bool</span> flag = <span class="literal">true</span>; </span><br><span class="line">    <span class="comment">// 从每一行都递归计算每一列</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> col = <span class="number">0</span>; col &lt; N; col++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> preRow = <span class="number">0</span>; preRow &lt; row; preRow++)<span class="comment">//排查前面各行位置</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//前面的列不能用这一列; 前面没有该列的对角线位置皇后</span></span><br><span class="line">            <span class="keyword">if</span> (col == record[preRow] || <span class="built_in">abs</span>(record[preRow] - col) == <span class="built_in">abs</span>(preRow - row))</span><br><span class="line">            &#123;</span><br><span class="line">                flag = <span class="literal">false</span>; </span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (flag)</span><br><span class="line">        &#123;    <span class="comment">//这一列可以放置皇后</span></span><br><span class="line">            record[row] = col;</span><br><span class="line">            res += num2(N, row + <span class="number">1</span>, record);</span><br><span class="line">        &#125;</span><br><span class="line">        flag = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>  N, sum = <span class="number">0</span>; <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="keyword">if</span>(N &lt; <span class="number">1</span>)&#123;<span class="built_in">cout</span> &lt;&lt; <span class="number">0</span>; <span class="keyword">return</span> <span class="number">0</span>;&#125;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; record(N, <span class="number">0</span>);</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; num2(N, <span class="number">0</span>, record) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>位运算加速：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">与 (<span class="keyword">and</span>):                      <span class="number">5</span> &amp; <span class="number">6</span> = <span class="number">4</span>        (<span class="number">101</span> &amp; <span class="number">110</span> = <span class="number">100</span>)</span><br><span class="line">或 (<span class="keyword">or</span>):                       <span class="number">5</span> | <span class="number">6</span> = <span class="number">7</span>        (<span class="number">101</span> | <span class="number">110</span> = <span class="number">111</span>)</span><br><span class="line">异或 (xor):                    <span class="number">5</span> ^ <span class="number">6</span> = <span class="number">3</span>        (<span class="number">101</span> ^ <span class="number">110</span> = <span class="number">011</span>)</span><br><span class="line">取反 (<span class="keyword">not</span> / complement):       ~<span class="number">5</span> = <span class="number">-6</span>          (~<span class="number">00000101</span> = <span class="number">11111010</span>)</span><br><span class="line">左移 (shift left):             <span class="number">5</span> &lt;&lt; <span class="number">2</span> = <span class="number">20</span>      (<span class="number">101</span> &lt;&lt; <span class="number">2</span> = <span class="number">10100</span>)</span><br><span class="line">右移 (shift right):            <span class="number">5</span> &gt;&gt; <span class="number">2</span> = <span class="number">1</span>       (<span class="number">101</span> &gt;&gt; <span class="number">2</span> = <span class="number">1</span>)</span><br></pre></td></tr></table></figure>
<p>左移n位等价于乘以$2^n$：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; (<span class="number">1</span> &lt;&lt; <span class="number">1</span>) &lt;&lt; <span class="string">" "</span> &lt;&lt; (<span class="number">1</span> &lt;&lt; <span class="number">2</span>) &lt;&lt; <span class="string">" "</span> &lt;&lt; (<span class="number">1</span> &lt;&lt; <span class="number">3</span>) &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; (<span class="number">2</span> &lt;&lt; <span class="number">1</span>) &lt;&lt; <span class="string">" "</span> &lt;&lt; (<span class="number">2</span> &lt;&lt; <span class="number">2</span>) &lt;&lt; <span class="string">" "</span> &lt;&lt; (<span class="number">2</span> &lt;&lt; <span class="number">3</span>) &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; (<span class="number">3</span> &lt;&lt; <span class="number">1</span>) &lt;&lt; <span class="string">" "</span> &lt;&lt; (<span class="number">3</span> &lt;&lt; <span class="number">2</span>) &lt;&lt; <span class="string">" "</span> &lt;&lt; (<span class="number">3</span> &lt;&lt; <span class="number">3</span>) &lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="number">2</span> <span class="number">4</span> <span class="number">8</span></span><br><span class="line"><span class="number">4</span> <span class="number">8</span> <span class="number">16</span></span><br><span class="line"><span class="number">6</span> <span class="number">12</span> <span class="number">24</span></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">upperLim = (<span class="number">1</span> &lt;&lt; n) - <span class="number">1</span> # 使得二进制表示的最右边n位都为<span class="number">1.</span>其他都为<span class="number">0</span></span><br><span class="line"></span><br><span class="line">pos = upperLim &amp; (~(colLim | leftDiaLim | rightDiaLim)); <span class="meta"># pos里位值为1的地方可以选择放置皇后</span></span><br><span class="line"></span><br><span class="line">mostRightOne = pos &amp; (~pos + <span class="number">1</span>) # 找出最右边的<span class="number">1</span>，~pos取反+<span class="number">1</span>得到最右边的值与pos一样，此处在与运算&amp;pos后不为<span class="number">0</span></span><br></pre></td></tr></table></figure>
<ul>
<li>process2：返回值代表剩余的皇后在之前的皇后的影响下，有多少种合法的摆法。</li>
<li>upperLim：表示当前行哪些位置可以放置皇后，1代表可以放置，0代表不能放置。八皇后问题中初始时为00000…000011111111，也就是32位整数的255。</li>
<li>colLim：表示递归计算到上一行，那些列已经放置了皇后，1代表已经放置，0代表没有放置。</li>
<li>leftDiaLim：表示递归计算到上一行为止，因为受以放置的所有皇后的左下方斜线的影响，导致当前行不能放置皇后，1代表不能放置，0代表可以放置。</li>
<li>表示递归计算到上一行为止，因为受以放置的所有皇后的右下方斜线的影响，导致当前行不能放置皇后，1代表不能放置，0代表可以放置。</li>
<li>变量pos：代表在当前行colLim、leftDiaLim、rightDiaLim三个状态的影响下，还有哪些位置是可选择的，1代表可以选择，0代表不能选择。</li>
<li>变量mostRightOne代表在pos下，最右边的1在什么位置。然后从右到左一次筛选出pos中可选择的位置进行递归尝试。</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">process2</span><span class="params">(<span class="keyword">int</span> upperLim, <span class="keyword">int</span> colLim, <span class="keyword">int</span> leftDiaLim, <span class="keyword">int</span> rightDiaLim)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (colLim == upperLim) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">int</span> pos = <span class="number">0</span>, mostRightOne = <span class="number">0</span>;</span><br><span class="line">    pos = upperLim &amp; (~(colLim | leftDiaLim | rightDiaLim));</span><br><span class="line">    <span class="keyword">int</span> res = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span>(pos != <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        mostRightOne = pos &amp; (~pos + <span class="number">1</span>);</span><br><span class="line">        pos = pos - mostRightOne;</span><br><span class="line">        res += process2(upperLim, colLim | mostRightOne, </span><br><span class="line">                       (leftDiaLim | mostRightOne) &lt;&lt; <span class="number">1</span>,</span><br><span class="line">                       (rightDiaLim | mostRightOne) &gt;&gt; <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">num3</span><span class="params">(<span class="keyword">int</span> n)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">1</span> || n &gt; <span class="number">32</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> upperLim = n == <span class="number">32</span> ? <span class="number">-1</span> : (<span class="number">1</span> &lt;&lt; n) - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> process2(upperLim, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span>  N, sum = <span class="number">0</span>; <span class="built_in">cin</span> &gt;&gt; N;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; num3(N) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="jumpGame"><a href="#jumpGame" class="headerlink" title="jumpGame"></a>jumpGame</h4><blockquote>
<p>给定数组arr，arr[i]==k 代表可以从位置向右跳1~k个距离。比如，arr[2] ==3,代表可以从位置2跳到位置3、位置4或位置5。如果从位置0出发，返回最少跳几次能跳到arr最后的位置上。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输出包括两行，第一行一个整数n(<span class="number">1</span> \leq n \leq <span class="number">1e5</span> )(<span class="number">1</span>≤n≤<span class="number">1e5</span>)，代表arr数组长度，第二行n个整数代表数组arr[i](<span class="number">1</span> \leq arr[i] \leq n)(<span class="number">1</span>≤arr[i]≤n)。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输出一个整数，代表最少跳的次数。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><p>解析：跳跃的是一个距离范围，因此记下每一次迭代到arr[i]后，可能跳到的最远地方就行；取最大的那个。</p>
<p><img src="/2019/09/04/DP/JumpGame.png" alt></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">jumpGame</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;arr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> jump = <span class="number">0</span>, cur = <span class="number">0</span>, next = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span> ; i &lt; arr.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (cur &lt; i)</span><br><span class="line">        &#123;</span><br><span class="line">            cur = next ;</span><br><span class="line">            jump++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//记下能跳的最远距离，因为可以跳的是一个范围；</span></span><br><span class="line">        next = max(next,(i + arr[i]));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> jump;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span>  <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n; <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; arr(n, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; n; i++)</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; arr[i];</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; jumpGame(arr) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="数组中的最长连续子序列"><a href="#数组中的最长连续子序列" class="headerlink" title="数组中的最长连续子序列"></a>数组中的最长连续子序列</h4><blockquote>
<p>给定无序数组arr，返回其中最长的连续序列的长度(要求值连续，位置可以不连续,例如 3,4,5,6为连续的自然数</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">100</span> <span class="number">4</span> <span class="number">200</span> <span class="number">1</span> <span class="number">3</span> <span class="number">2</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li>解析：1.对数组排序然后记录，2 . 哈希表实现：时间空间复杂度都是O(N)；键为每一个数组中的数；值为该数作为连续序列的最长长度；但是用过的长度不在更新，只记录最左最右的部分；只需更新连续序列的最左和最右范围上的value：记录为该连续序列的长度。</li>
</ul>
<p><img src="/2019/09/04/DP/最长连续序列.png" alt></p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt; </span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">哈希表实现：时间空间复杂度都是O(N);键为每一个数组中的数；值为该数作为连续序列的最长长度；但是用过的长度不在更新，只记录</span></span><br><span class="line"><span class="comment">最左最右的部分；</span></span><br><span class="line"><span class="comment">只需更新连续序列的最左和最右范围上的value：记录为该连续序列的长度</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">longestConsecutiveSize</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; &amp;arr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (arr.empty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="built_in">map</span> &lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; table;</span><br><span class="line">    <span class="keyword">using</span> pair_type = <span class="keyword">decltype</span>(table)::value_type;</span><br><span class="line">    <span class="keyword">int</span> Max = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; arr.size(); i++)</span><br><span class="line">    &#123;   </span><br><span class="line">        <span class="keyword">auto</span> it = table.find(arr[i]);</span><br><span class="line">        <span class="keyword">if</span>(it == table.end())</span><br><span class="line">        &#123;</span><br><span class="line">            table[arr[i]] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">auto</span> pit = table.find(arr[i] - <span class="number">1</span>); </span><br><span class="line">            <span class="keyword">auto</span> nit = table.find(arr[i] + <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">if</span> (pit != table.end())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> left = (arr[i] - <span class="number">1</span>) - table[arr[i] - <span class="number">1</span>] + <span class="number">1</span>; <span class="comment">//前一个数的开端所在位置</span></span><br><span class="line">                <span class="comment">//cout &lt;&lt;" left is " &lt;&lt; left &lt;&lt; endl;</span></span><br><span class="line">                <span class="comment">//cout &lt;&lt; " arr[i] " &lt;&lt; arr[i] &lt;&lt; " " &lt;&lt; it-&gt;first &lt;&lt; " " &lt;&lt; it-&gt;second &lt;&lt;" " &lt;&lt; table[arr[i]] &lt;&lt;endl;</span></span><br><span class="line">                <span class="keyword">int</span> right = arr[i] +  table[arr[i]] - <span class="number">1</span>; <span class="comment">// 上一个为止的终端所在位置</span></span><br><span class="line">                <span class="comment">//cout &lt;&lt;" right is " &lt;&lt; right &lt;&lt; endl;</span></span><br><span class="line">                <span class="keyword">int</span> len = right - left + <span class="number">1</span>;</span><br><span class="line">                table[left] = len;</span><br><span class="line">                table[right] = len;</span><br><span class="line">                Max = max(len, Max);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (nit != table.end())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">int</span> left = arr[i] -  table[arr[i]] + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">int</span> right = (arr[i] + <span class="number">1</span>) +  table[arr[i] + <span class="number">1</span>] - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">int</span> len = right - left + <span class="number">1</span>;</span><br><span class="line">                table[left] = len;</span><br><span class="line">                table[right] = len;</span><br><span class="line">                Max = max(len, Max);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    或者用下面两句得到最大值，而不去记录max</span></span><br><span class="line"><span class="comment">    auto pr = max_element(begin(table), end(table),</span></span><br><span class="line"><span class="comment">                          [](const pair_type &amp;p1, const pair_type &amp;p2)&#123;return p1.second &lt; p2.second;&#125;);</span></span><br><span class="line"><span class="comment">    return pr-&gt;second;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">return</span> Max;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span> <span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n; <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; arr(n, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i =<span class="number">0</span> ; i &lt; n; i++)</span><br><span class="line">         <span class="built_in">cin</span> &gt;&gt; arr[i];</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; longestConsecutiveSize(arr) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="龙与地下城游戏问题"><a href="#龙与地下城游戏问题" class="headerlink" title="龙与地下城游戏问题"></a>龙与地下城游戏问题</h4><blockquote>
<p>给定一个二维数组map，含义是一张地图，例如，如下矩阵</p>
</blockquote>
<script type="math/tex; mode=display">
\begin{Bmatrix} -2&-3&3 \\ -5&-10&1\\ 0&30&-5 \end{Bmatrix}</script><p>游戏的规则如下:<br>      1）骑士从左上角出发，每次只能向右或向下走，最后到达右下角见到公主。<br>      2）地图中每个位置的值代表骑士要遭遇的事情。如果是负数，说明此处有怪兽，要让骑士损失血量。如果是非负数，代表此处有血瓶，能让骑士回血。<br>      3）骑士从左上角到右下角的过程中，走到任何一个位置时，血量都不能少于1。为了保证骑土能见到公主，初始血量至少是多少?</p>
<p>根据map,输出初始血量。</p>
<blockquote>
</blockquote>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">3</span> <span class="number">3</span></span><br><span class="line"><span class="number">-2</span> <span class="number">-3</span> <span class="number">3</span></span><br><span class="line"><span class="number">-5</span> <span class="number">-10</span> <span class="number">1</span></span><br><span class="line"><span class="number">0</span> <span class="number">30</span> <span class="number">-5</span></span><br><span class="line"></span><br><span class="line"><span class="number">7</span></span><br></pre></td></tr></table></figure>
<ul>
<li>解析：在下面的开始部分：</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">dp[i][j]:从初始的(0,0)位置走到(i,j)位置所需要的最少初始血量；</span></span><br><span class="line"><span class="comment">比如dp[2][2]:至少需要6点血才行，后面没有路了，这就是最终位置；</span></span><br><span class="line"><span class="comment">1. 最后一行的元素只依赖于右边的元素，如dp[2][1]依赖于位置(2,1)与右边位置(2,2)需要的最少血量;</span></span><br><span class="line"><span class="comment">dp[i][j] = max&#123;dp[i][j+1] - map[i][j],1&#125;</span></span><br><span class="line"><span class="comment">2. 最后一列的元素只依赖于下面的元素，如dp[1][2]需要的最少血量依赖于dp[2][2]的值，还有位置(1,2)处需要的最少血量;</span></span><br><span class="line"><span class="comment">dp[i][j] = max&#123;dp[i+1][j] - map[i][j], 1&#125;</span></span><br><span class="line"><span class="comment">其他未知的元素依赖于下面的元素与右边的元素，选需要的血量最小的作为最优路径；</span></span><br><span class="line"><span class="comment">dp[i][j] = max(right, down);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dragonGame</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;arr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (arr.empty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> N = arr.size(), M = arr[<span class="number">0</span>].size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(N--, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(M--, <span class="number">0</span>));</span><br><span class="line">    </span><br><span class="line">    dp[N][M] =  arr[N][M] &lt; <span class="number">0</span> ? <span class="number">1</span> - arr[N][M] : <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = N - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        dp[i][M] = max(dp[i + <span class="number">1</span>][M] - arr[i][M], <span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = M - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        dp[N][i] = max(dp[N][i + <span class="number">1</span>] - arr[N][i], <span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = N - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = M - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">int</span> right = max(dp[i][j + <span class="number">1</span>] - arr[i][j], <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">int</span> down = max(dp[i + <span class="number">1</span>][j] - arr[i][j], <span class="number">1</span>);</span><br><span class="line">            dp[i][j] = min(right, down);</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="number">0</span>][<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//减少空间复杂度</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">dragonGame2</span><span class="params">(<span class="keyword">const</span> <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; &amp;arr)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (arr.empty()) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">int</span> more = max(arr.size(), arr[<span class="number">0</span>].size());</span><br><span class="line">    <span class="keyword">int</span> less = min(arr.size(), arr[<span class="number">0</span>].size());</span><br><span class="line">    <span class="keyword">bool</span> rowmore = more == arr.size();</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(less, <span class="number">0</span>);</span><br><span class="line">    </span><br><span class="line">    dp[less - <span class="number">1</span>] = arr[arr.size() - <span class="number">1</span>][arr[<span class="number">0</span>].size() - <span class="number">1</span>] &lt; <span class="number">0</span> ? </span><br><span class="line">        <span class="number">1</span> - arr[arr.size() - <span class="number">1</span>][arr[<span class="number">0</span>].size() - <span class="number">1</span>] : <span class="number">1</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">int</span> row = <span class="number">0</span>, col = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//行多初始化最后一列迭代，列多初始化最后一行做迭代</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = less - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        row = rowmore ? more - <span class="number">1</span> : i;</span><br><span class="line">        col =  rowmore ? i : more - <span class="number">1</span>;</span><br><span class="line">        dp[i] = max(dp[i + <span class="number">1</span>] - arr[row][col], <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">int</span> choose1 = <span class="number">0</span>, choose2 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = more - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">//每次都看对应迭代的是行还是列</span></span><br><span class="line">        row = rowmore ? i : less - <span class="number">1</span>;</span><br><span class="line">        col = rowmore ? less - <span class="number">1</span> : i; </span><br><span class="line">        dp[less - <span class="number">1</span>] = max(dp[less - <span class="number">1</span>] - arr[row][col], <span class="number">1</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = less - <span class="number">2</span>; j &gt;= <span class="number">0</span>; j--)</span><br><span class="line">        &#123;</span><br><span class="line">            row = rowmore ? i : j;</span><br><span class="line">            col = rowmore ? j : i;</span><br><span class="line">            choose1 = max(dp[j] - arr[row][col], <span class="number">1</span>);</span><br><span class="line">            choose2 = max(dp[j + <span class="number">1</span>] - arr[row][col], <span class="number">1</span>);</span><br><span class="line">            dp[j] = min(choose1, choose2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[<span class="number">0</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> N, M; <span class="built_in">cin</span> &gt;&gt; N &gt;&gt; M;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; arr(N, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(M, <span class="number">0</span>));</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">size_t</span> i = <span class="number">0</span>; i &lt; N; i++)</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">size_t</span> j = <span class="number">0</span>; j &lt; M; j++)</span><br><span class="line">            <span class="built_in">cin</span> &gt;&gt;arr[i][j];</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; dragonGame2(arr) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="数字字符转化为字母组合的种数"><a href="#数字字符转化为字母组合的种数" class="headerlink" title="数字字符转化为字母组合的种数"></a>数字字符转化为字母组合的种数</h4><blockquote>
<p>给定一个字符串str，str全部由数字字符组成，如果str中的某一个或者相邻两个字符组成的子串值在1~26之间，则这个子串可以转换为一个字母。规定‘1’转换为“A”，“2”转换为“B”……”26”转化为“Z“。请求出str有多少种不同的转换结果，由于答案可能会比较大，所以请输出对10^{9}+7109+7取模后的答案。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1111</span></span><br><span class="line"></span><br><span class="line"><span class="number">5</span></span><br><span class="line">能转换出来的结果有：“AAAAA”，“LAA”，“ALA”，“AAL”，“LL”。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><p>解析：第三个解析最好：</p>
</li>
<li><p>(链接)[<a href="https://www.nowcoder.com/questionTerminal/6a5d7615332c49eb810c374dd6f37857?f=discussion" target="_blank" rel="noopener">https://www.nowcoder.com/questionTerminal/6a5d7615332c49eb810c374dd6f37857?f=discussion</a>]</p>
<p>这题使用动态规划的方法解决，主要是找到递推公式。用$f(n)$表示长度为$n$的字符串的有效组合数。</p>
<ul>
<li>考虑这个字符串的末尾，有效的组合可以分为两类，一类是末尾是单个数字转化的，一类是末尾是两个数字转化的。</li>
<li>那么反过来就可以这样求 $f(n)$，先令$f(n) = 0$</li>
<li>如果字符串的最后一个数字可以转化为字母，我们就给$f(n)$加上$f(n-1)$，</li>
<li>如果字符串的最后两个数字可以转化为字母，我们就给$f(n)$ 加上$f(n-2)$。</li>
</ul>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"><span class="keyword">int</span> mod = <span class="number">1e9</span> + <span class="number">7</span>;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">剩一个字符的时候，只有一种转换方式；</span></span><br><span class="line"><span class="comment">在第一个字符左边添加一个字符，那么若两字符的和小于27，那可以有两种转换方式：1.每个字符都翻译；2.两个字符合在一起翻译；</span></span><br><span class="line"><span class="comment">继续再刚才的两个字符的左边添加字符，情况类似；迭代直到整个字符串；</span></span><br><span class="line"><span class="comment">特例：'0'出现的情况下，之后的字符翻译都视为无效的翻译，返回0。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">process1</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; str, <span class="keyword">int</span> index)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (index == str.size()) <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">if</span> (str[index] == <span class="string">'0'</span>) <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="keyword">int</span> res = process1(str, index + <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (index + <span class="number">1</span> &lt; str.size() &amp;&amp; (str[index] - <span class="string">'0'</span>) * <span class="number">10</span> + (str[index + <span class="number">1</span>] - <span class="string">'0'</span>) &lt;= <span class="number">26</span>)</span><br><span class="line">        res += process1(str, index + <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">return</span> res % mod;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">count1</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (str.empty() || str == <span class="string">""</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> process1(str, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">count2</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(str.empty() || str == <span class="string">""</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> cur = str[str.size() - <span class="number">1</span>] == <span class="string">'0'</span> ? <span class="number">0</span> : <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">long</span> next = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">long</span> tmp = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = str.size() - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (str[i] == <span class="string">'0'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            next = cur;</span><br><span class="line">            cur = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            tmp = cur;</span><br><span class="line">            <span class="keyword">if</span> ((str[i] - <span class="string">'0'</span>) * <span class="number">10</span> + (str[i + <span class="number">1</span>] - <span class="string">'0'</span>) &lt;= <span class="number">26</span>)</span><br><span class="line">            &#123;</span><br><span class="line">                cur = (cur+ next)%mod;</span><br><span class="line">            &#125;</span><br><span class="line">            next = tmp % mod;</span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> cur % mod;</span><br><span class="line">&#125;</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">链接：https://www.nowcoder.com/questionTerminal/6a5d7615332c49eb810c374dd6f37857?f=discussion</span></span><br><span class="line"><span class="comment">来源：牛客网</span></span><br><span class="line"><span class="comment"> </span></span><br><span class="line"><span class="comment">这题使用动态规划的方法解决，主要是找到递推公式。用f(n)表示长度为n的字符串的有效组合数。</span></span><br><span class="line"><span class="comment">考虑这个字符串的末尾，有效的组合可以分为两类，一类是末尾是单个数字转化的，一类是末尾是两个数字转化的。</span></span><br><span class="line"><span class="comment">那么反过来就可以这样求f(n)，先令f(n) = 0，</span></span><br><span class="line"><span class="comment">如果字符串的最后一个数字可以转化为字母，我们就给f(n)加上f(n-1)，</span></span><br><span class="line"><span class="comment">如果字符串的最后两个数字可以转化为字母，我们就给f(n)加上f(n-2)。</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">count3</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span>&amp; str)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(str.empty() || str == <span class="string">""</span> || str[<span class="number">0</span>] == <span class="string">'0'</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">long</span> fn = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">long</span> fn1 = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">long</span> fn2 = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; str.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        fn2 = fn1;</span><br><span class="line">        fn1 = fn;</span><br><span class="line">        fn = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">if</span> (str[i] == <span class="string">'0'</span>)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            fn = (fn + fn1) % mod;</span><br><span class="line">            <span class="keyword">if</span> ((str[i - <span class="number">1</span>] - <span class="string">'0'</span>) * <span class="number">10</span> + (str[i] - <span class="string">'0'</span>) &lt;= <span class="number">26</span>)</span><br><span class="line">                fn = (fn + fn2) % mod;</span><br><span class="line">        &#125;</span><br><span class="line">         </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fn % mod;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> str; <span class="built_in">cin</span> &gt;&gt; str;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; count3(str) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="字符串的交错组成"><a href="#字符串的交错组成" class="headerlink" title="字符串的交错组成"></a>字符串的交错组成</h4><blockquote>
<p>给定三个字符串str1、str2 和aim,如果aim包含且仅包含来自str1和str2的所有字符，而且在aim中属于str1的字符之间保持原来在str1中的顺序属于str2的字符之间保持原来在str2中的顺序，那么称aim是str1和str2的交错组成。实现一个函数，判断aim是否是str1和str2交错组成，如果是请输出“YES”，否则输出“NO”。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">AB</span><br><span class="line"><span class="number">12</span></span><br><span class="line"><span class="number">1</span>AB2</span><br><span class="line"></span><br><span class="line">YES</span><br><span class="line"></span><br></pre></td></tr></table></figure>
</blockquote>
<ul>
<li><p>解析：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">先考虑空间复杂度为O(n, m)的dp[n+<span class="number">1</span>][m+<span class="number">1</span>]；</span><br><span class="line"><span class="number">1.</span> dp[i][j]定义为str1[<span class="number">0.</span>.i<span class="number">-1</span>]与str[<span class="number">0.</span>..j<span class="number">-1</span>]是否可以交错组成aim[<span class="number">0.</span>..i+j<span class="number">-1</span>];</span><br><span class="line"><span class="number">2.</span> dp[<span class="number">0</span>][<span class="number">0</span>]为空串与空串是否可以组成空串，为True;</span><br><span class="line"><span class="number">3.</span> dp[<span class="number">0</span>][<span class="number">0.</span>.m<span class="number">-1</span>]代表aim[<span class="number">0.</span>..m<span class="number">-1</span>]能否只由串str2[<span class="number">0.</span>.m<span class="number">-1</span>]组成;dp[<span class="number">0.</span>.n<span class="number">-1</span>][<span class="number">0</span>]代表aim[<span class="number">0.</span>.n<span class="number">-1</span>]能否只由串str1[<span class="number">0.</span>.n<span class="number">-1</span>]组成；</span><br><span class="line"><span class="number">4.</span> dp[i][j]的值由下组成：dp[i<span class="number">-1</span>][j]代表aim[<span class="number">0.</span>.i+j<span class="number">-2</span>]能否被str1[<span class="number">0.</span>.i<span class="number">-2</span>]与str2[<span class="number">0.</span>..j<span class="number">-1</span>]交错组成，如果再有</span><br><span class="line">str1[i<span class="number">-1</span>] == aim[i+j<span class="number">-1</span>],说明str1[i<span class="number">-1</span>]又可以作为aim[<span class="number">0.</span>..i+j<span class="number">-1</span>]的最后一个字符，此时dp[i][j] = True;</span><br><span class="line">dp[i][j<span class="number">-1</span>]的分析与上面一样；</span><br><span class="line"><span class="number">5.</span> 除了满足<span class="number">4</span>之外的dp[i][j]都为<span class="literal">false</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">先考虑空间复杂度为O(n, m)的dp[n+1][m+1]；</span></span><br><span class="line"><span class="comment">1. dp[i][j]定义为str1[0..i-1]与str[0...j-1]是否可以交错组成aim[0...i+j-1];</span></span><br><span class="line"><span class="comment">2. dp[0][0]为空串与空串是否可以组成空串，为True;</span></span><br><span class="line"><span class="comment">3. dp[0][0..m-1]代表aim[0...m-1]能否只由串str2[0..m-1]组成;dp[0..n-1][0]代表aim[0..n-1]能否只由串str1[0..n-1]组成；</span></span><br><span class="line"><span class="comment">4. dp[i][j]的值由下组成：dp[i-1][j]代表aim[0..i+j-2]能否被str1[0..i-2]与str2[0...j-1]交错组成，如果再有</span></span><br><span class="line"><span class="comment">str1[i-1] == aim[i+j-1],说明str1[i-1]又可以作为aim[0...i+j-1]的最后一个字符，此时dp[i][j] = True;</span></span><br><span class="line"><span class="comment">dp[i][j-1]的分析与上面一样；</span></span><br><span class="line"><span class="comment">5. 除了满足4之外的dp[i][j]都为false;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isCompose</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;s1, <span class="keyword">const</span> <span class="built_in">string</span> &amp;s2, <span class="keyword">const</span> <span class="built_in">string</span> &amp;aim)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s1.size() + s2.size() != aim.size()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">vector</span>&lt; <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; dp(s1.size() +<span class="number">1</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(s2.size() + <span class="number">1</span>, <span class="number">0</span>));</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">1</span>; <span class="comment">//空串</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= s1.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (aim[i - <span class="number">1</span>] != s1[i - <span class="number">1</span>]) <span class="keyword">break</span>;</span><br><span class="line">        dp[i][<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= s2.size(); j++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (aim[j - <span class="number">1</span>] != s2[j - <span class="number">1</span>]) <span class="keyword">break</span>;</span><br><span class="line">        dp[<span class="number">0</span>][j] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= s1.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= s2.size(); j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> ( ((s1[i - <span class="number">1</span>] == aim[i + j - <span class="number">1</span>]) &amp;&amp; dp[i - <span class="number">1</span>][j]) || </span><br><span class="line">                ((s2[j - <span class="number">1</span>] == aim[i + j - <span class="number">1</span>]) &amp;&amp; dp[i][j - <span class="number">1</span>]))</span><br><span class="line">                dp[i][j] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[s1.size()][s2.size()];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//化为空间复杂度只有最小串的长度+1，看出上面的dp【i】【j】计算只依赖上面的元素和左边的元素</span></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">isCompose2</span><span class="params">(<span class="keyword">const</span> <span class="built_in">string</span> &amp;s1, <span class="keyword">const</span> <span class="built_in">string</span> &amp;s2, <span class="keyword">const</span> <span class="built_in">string</span> &amp;aim)</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (s1.size() + s2.size() != aim.size()) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="built_in">string</span> more = s1.size() &gt; s2.size() ? s1 : s2;</span><br><span class="line">    <span class="built_in">string</span> less = s1.size() &gt; s2.size() ? s2 : s1;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; dp(less.size() + <span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>; <span class="comment">//空串</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= less.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (aim[i - <span class="number">1</span>] != less[i - <span class="number">1</span>]) <span class="keyword">break</span>;</span><br><span class="line">        dp[i] = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= more.size(); i++)</span><br><span class="line">    &#123;</span><br><span class="line">        dp[<span class="number">0</span>] = dp[<span class="number">0</span>] &amp;&amp; more[i - <span class="number">1</span>] == aim[i - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= less.size(); j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> ((more[i - <span class="number">1</span>] == aim[i + j - <span class="number">1</span>] &amp;&amp; dp[j]) ||</span><br><span class="line">                (less[j - <span class="number">1</span>] == aim[i +j - <span class="number">1</span>] &amp;&amp; dp[j - <span class="number">1</span>]))</span><br><span class="line">                dp[j] = <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">                dp[j] = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[less.size()];</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="built_in">string</span> s1, s2, aim;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; s1 &gt;&gt; s2 &gt;&gt; aim;</span><br><span class="line">    <span class="built_in">cout</span> &lt;&lt; (isCompose2(s1, s2, aim) ? <span class="string">"YES"</span> : <span class="string">"NO"</span>) &lt;&lt; <span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="排成一条线的纸牌博弈问题"><a href="#排成一条线的纸牌博弈问题" class="headerlink" title="排成一条线的纸牌博弈问题"></a>排成一条线的纸牌博弈问题</h4><blockquote>
<p>给定一个整型数组arr，代表数值不同的纸牌排成一条线，玩家A和玩家B依次拿走每张纸牌，规定玩家A先拿，玩家B后拿，但是每个玩家每次只能拿走最左和最右的纸牌，玩家A和玩家B绝顶聪明。请返回最后的获胜者的分数。</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输出包括两行，第一行一个整数n(<span class="number">1</span> \leq n \leq <span class="number">5000</span> )(<span class="number">1</span>≤n≤<span class="number">5000</span>)，代表数组arr长度，第二行包含n个整数，第i个代表arr[i]( <span class="number">1</span> \leq arr[i] \leq <span class="number">10</span>^<span class="number">5</span> )(<span class="number">1</span>≤arr[i]≤<span class="number">105</span>)。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">100</span> <span class="number">4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>101</p>
</blockquote>
<ul>
<li><p>解析：</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">f(l,r)  ：表示arr[l...r]这个排列上的纸牌被先拿，最终的得分；</span></span><br><span class="line"><span class="comment">s(l,r)  ：表示arr[l...r]这个排列上的纸牌被后拿，最终的得分；</span></span><br><span class="line"><span class="comment">首先对于f方法来说,有两种拿法,要么先拿arr[l],要么先拿arr[r].</span></span><br><span class="line"><span class="comment">如果先拿arr[l],那么对于剩下的牌来说,拿到的最大分数就是arr[l]+s(arr, l+1, r)</span></span><br><span class="line"><span class="comment">如果先拿arr[r],那么对于剩下的牌来说,拿到的最大分数就是arr[r]+s(arr,l,r-1)</span></span><br><span class="line"><span class="comment">所以f(arr,l,r)的结果就是两者中的较大值.</span></span><br><span class="line"><span class="comment">同样的,对于s方法,也有两种拿法:</span></span><br><span class="line"><span class="comment">如果f方法已经拿去了arr[l],那么s方法得到的最大值就是f(l+1, r),</span></span><br><span class="line"><span class="comment">如果f方法已经拿去了arr[r],那么s方法得到的最大值就是f(l, r-1)</span></span><br><span class="line"><span class="comment">参考：</span></span><br><span class="line"><span class="comment">http://myblog.huangjinjin.xin/2018/11/27/%e6%9a%b4%e5%8a%9b%e9%80%92%e5%bd%92%e6%94%b9%e5%8a%a8%e6%80%81%e8%a7%84%e5%88%92%e5%a5%97%e8%b7%af2-%e7%ba%b8%e7%89%8c%e5%8d%9a%e5%bc%88%e9%97%ae%e9%a2%98/#comment-139</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> n;</span><br><span class="line">    <span class="built_in">cin</span> &gt;&gt; n;</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; arr(n);</span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">0</span>;i &lt; n; i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">cin</span> &gt;&gt; arr[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//填两个表</span></span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; f(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n, <span class="number">0</span>));</span><br><span class="line">    <span class="built_in">vector</span>&lt;<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;&gt; s(n, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;(n, <span class="number">0</span>));</span><br><span class="line">     </span><br><span class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) <span class="comment">//j代表右边</span></span><br><span class="line">    &#123;</span><br><span class="line">        f[j][j] = arr[j]; <span class="comment">//先填对角线元素；s对角线为0已经填好</span></span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i = j - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) <span class="comment">//左边范围小于右边一直到0</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">// f表与s表的依赖关系</span></span><br><span class="line">            f[i][j] = max(s[i + <span class="number">1</span>][j] + arr[i], s[i][j - <span class="number">1</span>] + arr[j]); </span><br><span class="line">            s[i][j] = min(f[i + <span class="number">1</span>][j], f[i][j - <span class="number">1</span>]);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">     </span><br><span class="line">    <span class="built_in">cout</span>&lt;&lt; max(f[<span class="number">0</span>][n - <span class="number">1</span>], s[<span class="number">0</span>][n - <span class="number">1</span>]);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

    </div>

    
    
    
        
      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/Algorithm/" rel="tag"># Algorithm</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2019/08/24/KNN/" rel="next" title="KNN">
                  <i class="fa fa-chevron-left"></i> KNN
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2019/09/04/EnsembleLearning/" rel="prev" title="EnsembleLearning">
                  EnsembleLearning <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          
    
    <div class="comments" id="gitalk-container"></div>
  

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">

          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/images/avatar/jojo3.jpg"
      alt="Zheng Chu">
  <p class="site-author-name" itemprop="name">Zheng Chu</p>
  <div class="site-description motion-element" itemprop="description"></div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives">
        
          <span class="site-state-item-count">64</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">categories</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
          
        
        <span class="site-state-item-count">21</span>
        <span class="site-state-item-name">tags</span>
        </a>
      </div>
    
  </nav>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://github.com/zhengchu1994" title="GitHub &rarr; https://github.com/zhengchu1994" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://www.jianshu.com/u/d4875c485cff" title="简书 &rarr; https://www.jianshu.com/u/d4875c485cff" rel="noopener" target="_blank"><i class="fa fa-fw fa-heartbeat"></i>简书</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="https://blog.csdn.net/NockinOnHeavensDoor" title="CSDN &rarr; https://blog.csdn.net/NockinOnHeavensDoor" rel="noopener" target="_blank"><i class="fa fa-fw fa-globe"></i>CSDN</a>
      </span>
    
      <span class="links-of-author-item">
      
      
        
      
      
        
      
        <a href="mailto:zhengchu@tju.edu.cn" title="E-Mail &rarr; mailto:zhengchu@tju.edu.cn" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
    
  </div>



        </div>
      </div>
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#斐波那契递归-由斐波那契数列的递归关系推导出n-gt-2时的状态矩阵，然后利用快速矩阵乘法完成；"><span class="nav-number">1.</span> <span class="nav-text">斐波那契递归: 由斐波那契数列的递归关系推导出n&gt;2时的状态矩阵，然后利用快速矩阵乘法完成；</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#同类型的题：青蛙跳台阶，一次能跳1或者2步，求跳到n个台阶可能的跳法。"><span class="nav-number">2.</span> <span class="nav-text">同类型的题：青蛙跳台阶，一次能跳1或者2步，求跳到n个台阶可能的跳法。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#假设农场中成熟的母牛每年只会生-1-头小母牛，并且永远不会死。第一年农场中有一只成熟的母牛，从第二年开始，母牛开始生小母牛。每只小母牛-3-年之后成熟又可以生小母牛。给定整数-n，求出-n-年后牛的数量。"><span class="nav-number">3.</span> <span class="nav-text">假设农场中成熟的母牛每年只会生 1 头小母牛，并且永远不会死。第一年农场中有一只成熟的母牛，从第二年开始，母牛开始生小母牛。每只小母牛 3 年之后成熟又可以生小母牛。给定整数 n，求出 n 年后牛的数量。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#题目描述：给定一个-n-m-的矩阵-a，从左上角开始每次只能向右或者向下走，最后到达右下角的位置，路径上所有的数字累加起来就是路径和，输出所有的路径中最小的路径和。"><span class="nav-number">4.</span> <span class="nav-text">题目描述：给定一个 n * m 的矩阵 a，从左上角开始每次只能向右或者向下走，最后到达右下角的位置，路径上所有的数字累加起来就是路径和，输出所有的路径中最小的路径和。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#题目描述：假设有排成一行的N个位置，记为1-N，开始时机器人在M位置，机器人可以往左或者往右走，如果机器人在1位置，那么下一步机器人只能走到2位置，如果机器人在N位置，那么下一步机器人只能走到N-1位置。规定机器人只能走k步，最终能来到P位置的方法有多少种。由于方案数可能比较大，所以答案需要对1e9-7取模。"><span class="nav-number">5.</span> <span class="nav-text">题目描述：假设有排成一行的N个位置，记为1~N，开始时机器人在M位置，机器人可以往左或者往右走，如果机器人在1位置，那么下一步机器人只能走到2位置，如果机器人在N位置，那么下一步机器人只能走到N-1位置。规定机器人只能走k步，最终能来到P位置的方法有多少种。由于方案数可能比较大，所以答案需要对1e9+7取模。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#给定数组arr，arr中所有的值都为正整数且不重复。每个值代表一种面值的货币，每种面值的货币可以使用任意张，再给定一个aim，代表要找的钱数，求组成aim的最少货币数。"><span class="nav-number">6.</span> <span class="nav-text">给定数组arr，arr中所有的值都为正整数且不重复。每个值代表一种面值的货币，每种面值的货币可以使用任意张，再给定一个aim，代表要找的钱数，求组成aim的最少货币数。</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#换钱的方法数"><span class="nav-number">7.</span> <span class="nav-text">换钱的方法数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#打气球的最大分数"><span class="nav-number">8.</span> <span class="nav-text">打气球的最大分数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#最长递增子序列"><span class="nav-number">9.</span> <span class="nav-text">最长递增子序列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#信封嵌套问题"><span class="nav-number">10.</span> <span class="nav-text">信封嵌套问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#汉诺塔问题"><span class="nav-number">11.</span> <span class="nav-text">汉诺塔问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#最常公共子序列"><span class="nav-number">12.</span> <span class="nav-text">最常公共子序列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#最长公共子串"><span class="nav-number">13.</span> <span class="nav-text">最长公共子串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#最小编辑代价"><span class="nav-number">14.</span> <span class="nav-text">最小编辑代价</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#子数组异或和为0的最多划分"><span class="nav-number">15.</span> <span class="nav-text">子数组异或和为0的最多划分</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#N皇后问题"><span class="nav-number">16.</span> <span class="nav-text">N皇后问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#jumpGame"><span class="nav-number">17.</span> <span class="nav-text">jumpGame</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数组中的最长连续子序列"><span class="nav-number">18.</span> <span class="nav-text">数组中的最长连续子序列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#龙与地下城游戏问题"><span class="nav-number">19.</span> <span class="nav-text">龙与地下城游戏问题</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#数字字符转化为字母组合的种数"><span class="nav-number">20.</span> <span class="nav-text">数字字符转化为字母组合的种数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字符串的交错组成"><span class="nav-number">21.</span> <span class="nav-text">字符串的交错组成</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#排成一条线的纸牌博弈问题"><span class="nav-number">22.</span> <span class="nav-text">排成一条线的纸牌博弈问题</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Zheng Chu</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v4.2.1</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.3.0</div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="Total Visitors">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  
    <span class="post-meta-divider">|</span>
  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="Total Views">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>








        
      </div>
    </footer>
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
      </div>

    

  </div>

  
  <script src="/lib/jquery/index.js?v=3.4.1"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

<script src="/js/utils.js?v=7.3.0"></script>
  <script src="/js/motion.js?v=7.3.0"></script>


  <script src="/js/affix.js?v=7.3.0"></script>
  <script src="/js/schemes/pisces.js?v=7.3.0"></script>


<script src="/js/next-boot.js?v=7.3.0"></script>




  




























  

  
    
      
<script type="text/x-mathjax-config">

  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
      processEscapes: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    },
    TeX: {
      equationNumbers: {
        autoNumber: 'AMS'
      }
    }
  });

  MathJax.Hub.Register.StartupHook('TeX Jax Ready', function() {
    MathJax.InputJax.TeX.prefilterHooks.Add(function(data) {
      if (data.display) {
        var next = data.script.nextSibling;
        while (next && next.nodeName.toLowerCase() === '#text') {
          next = next.nextSibling;
        }
        if (next && next.nodeName.toLowerCase() === 'br') {
          next.parentNode.removeChild(next);
        }
      }
    });
  });

  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for (i = 0; i < all.length; i += 1) {
      element = document.getElementById(all[i].inputID + '-Frame').parentNode;
      if (element.nodeName.toLowerCase() == 'li') {
        element = element.parentNode;
      }
      element.classList.add('has-jax');
    }
  });
</script>
<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/mathjax@2/MathJax.js?config=TeX-AMS-MML_HTMLorMML', function() {
    MathJax.Hub.Typeset();
  }, window.MathJax);
</script>

    
  

  

  


  
  <script src="/js/scrollspy.js?v=7.3.0"></script>
<script src="/js/post-details.js?v=7.3.0"></script>


    
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.css">

<script>
  NexT.utils.getScript('//cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js', function() {
    var gitalk = new Gitalk({
      clientID: '0911ce8ceab7f12409f0',
      clientSecret: '6fa693e25bfc0f98e5cc0907c97cb2fe9f54bb5e',
      repo: 'Gitalk',
      owner: 'zhengchu1994',
      admin: ['zhengchu1994'],
      id: '8a8bae1902a2f7453f870afc5f7bc98b',
        language: window.navigator.language || window.navigator.userLanguage,
      
      distractionFreeMode: 'true'
    });
    gitalk.render('gitalk-container');
  }, window.Gitalk);
</script>

</body>
</html>
